<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>COSMOS core: Data Management function declarations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo80.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COSMOS core
   &#160;<span id="projectnumber">1.0.2 (beta)</span>
   </div>
   <div id="projectbrief">Comprehensive Open-architecture Solution for Mission Operations Systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__datalib__functions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Data Management function declarations<div class="ingroups"><a class="el" href="group__libraries.html">API libraries</a> &raquo; <a class="el" href="group__support.html">Support Libraries</a> &raquo; <a class="el" href="group__datalib.html">Data Management</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Data Management function declarations:</div>
<div class="dyncontent">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group__datalib__functions.svg" width="367" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5c64b9eafbfadb9af58898a35764e7ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed">log_write</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double utc, string extra, string type, string record, string location)</td></tr>
<tr class="memdesc:ga5c64b9eafbfadb9af58898a35764e7ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write log entry - full.  <a href="#ga5c64b9eafbfadb9af58898a35764e7ed">More...</a><br /></td></tr>
<tr class="separator:ga5c64b9eafbfadb9af58898a35764e7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0850356ac1f4275b5e0f94f382dbeb7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga0850356ac1f4275b5e0f94f382dbeb7d">log_write</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double utc, string type, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *record)</td></tr>
<tr class="memdesc:ga0850356ac1f4275b5e0f94f382dbeb7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write log entry - fixed location.  <a href="#ga0850356ac1f4275b5e0f94f382dbeb7d">More...</a><br /></td></tr>
<tr class="separator:ga0850356ac1f4275b5e0f94f382dbeb7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78a54225b7a4367c4bd8452852810533"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga78a54225b7a4367c4bd8452852810533">log_write</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, int type, double utc, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *record, string directory)</td></tr>
<tr class="memdesc:ga78a54225b7a4367c4bd8452852810533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write log entry - fixed location, no extra, integer type and agent.  <a href="#ga78a54225b7a4367c4bd8452852810533">More...</a><br /></td></tr>
<tr class="separator:ga78a54225b7a4367c4bd8452852810533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54310d03cd4a73dea7c1795dc918138a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga54310d03cd4a73dea7c1795dc918138a">log_move</a> (string oldpath, string newpath, bool <a class="el" href="zlib_8h.html#aa235d73d70547130c04b97d73aad9489">compress</a>)</td></tr>
<tr class="memdesc:ga54310d03cd4a73dea7c1795dc918138a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move log file - path version.  <a href="#ga54310d03cd4a73dea7c1795dc918138a">More...</a><br /></td></tr>
<tr class="separator:ga54310d03cd4a73dea7c1795dc918138a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad23fd76c53eeb3977052173c62175188"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gad23fd76c53eeb3977052173c62175188">log_move</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, string srclocation, string dstlocation, bool <a class="el" href="zlib_8h.html#aa235d73d70547130c04b97d73aad9489">compress</a>)</td></tr>
<tr class="memdesc:gad23fd76c53eeb3977052173c62175188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move log file - full version.  <a href="#gad23fd76c53eeb3977052173c62175188">More...</a><br /></td></tr>
<tr class="separator:gad23fd76c53eeb3977052173c62175188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57d5fe2a985e9f852c92a52394613e51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga57d5fe2a985e9f852c92a52394613e51">log_move</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>)</td></tr>
<tr class="memdesc:ga57d5fe2a985e9f852c92a52394613e51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move log file - short version.  <a href="#ga57d5fe2a985e9f852c92a52394613e51">More...</a><br /></td></tr>
<tr class="separator:ga57d5fe2a985e9f852c92a52394613e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad088bd3a474403017d1764c388385cc7"><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gad088bd3a474403017d1764c388385cc7">data_list_archive_days</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>)</td></tr>
<tr class="memdesc:gad088bd3a474403017d1764c388385cc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of days in a Node archive.  <a href="#gad088bd3a474403017d1764c388385cc7">More...</a><br /></td></tr>
<tr class="separator:gad088bd3a474403017d1764c388385cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3adbbdea2942ab54b0e9bff132cb07d1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga3adbbdea2942ab54b0e9bff132cb07d1">log_read</a> (<a class="el" href="zlib_8h.html#a8e80bd9e2c359bc5bdabb2e97b4e62bf">gzFile</a> &amp;file, int num)</td></tr>
<tr class="memdesc:ga3adbbdea2942ab54b0e9bff132cb07d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">log_reads Loop until the newline character is seen. Append it to a string and return the line once the newline is met.  <a href="#ga3adbbdea2942ab54b0e9bff132cb07d1">More...</a><br /></td></tr>
<tr class="separator:ga3adbbdea2942ab54b0e9bff132cb07d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf00a4557c26fd8f628b8338d6b52ee2"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaaf00a4557c26fd8f628b8338d6b52ee2">data_list_archive</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double utc, string type)</td></tr>
<tr class="memdesc:gaaf00a4557c26fd8f628b8338d6b52ee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of files in a Node archive.  <a href="#gaaf00a4557c26fd8f628b8338d6b52ee2">More...</a><br /></td></tr>
<tr class="separator:gaaf00a4557c26fd8f628b8338d6b52ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1575fa2e6ef9f95e9b471a8d6f601310"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga1575fa2e6ef9f95e9b471a8d6f601310">data_list_archive</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double utc)</td></tr>
<tr class="separator:ga1575fa2e6ef9f95e9b471a8d6f601310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae39f5af9321411a7f5bc6b8cb4e3a9c3"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gae39f5af9321411a7f5bc6b8cb4e3a9c3">data_list_files</a> (string directory)</td></tr>
<tr class="memdesc:gae39f5af9321411a7f5bc6b8cb4e3a9c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of files in a directory, directly.  <a href="#gae39f5af9321411a7f5bc6b8cb4e3a9c3">More...</a><br /></td></tr>
<tr class="separator:gae39f5af9321411a7f5bc6b8cb4e3a9c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac568aabd84c01e304bbf707c62f95235"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gac568aabd84c01e304bbf707c62f95235">data_list_files</a> (string directory, vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt; &amp;files)</td></tr>
<tr class="memdesc:gac568aabd84c01e304bbf707c62f95235"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of files in a directory, indirectly.  <a href="#gac568aabd84c01e304bbf707c62f95235">More...</a><br /></td></tr>
<tr class="separator:gac568aabd84c01e304bbf707c62f95235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1b8541e42addb748a4b4da28d5f8d2f"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaf1b8541e42addb748a4b4da28d5f8d2f">data_list_files</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string location, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>)</td></tr>
<tr class="memdesc:gaf1b8541e42addb748a4b4da28d5f8d2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of files in a Node, directly.  <a href="#gaf1b8541e42addb748a4b4da28d5f8d2f">More...</a><br /></td></tr>
<tr class="separator:gaf1b8541e42addb748a4b4da28d5f8d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga544b5a8d8051753f852561fa5e628bda"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga544b5a8d8051753f852561fa5e628bda">data_list_files</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string location, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt; &amp;files)</td></tr>
<tr class="memdesc:ga544b5a8d8051753f852561fa5e628bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of files in a Node, indirectly.  <a href="#ga544b5a8d8051753f852561fa5e628bda">More...</a><br /></td></tr>
<tr class="separator:ga544b5a8d8051753f852561fa5e628bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa93b79ce68d6d33d637837bb5223164a"><td class="memItemLeft" align="right" valign="top">vector&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaa93b79ce68d6d33d637837bb5223164a">data_list_nodes</a> ()</td></tr>
<tr class="memdesc:gaa93b79ce68d6d33d637837bb5223164a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of Nodes, directly.  <a href="#gaa93b79ce68d6d33d637837bb5223164a">More...</a><br /></td></tr>
<tr class="separator:gaa93b79ce68d6d33d637837bb5223164a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14ccb20259f177bc61ab4813c85b263c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga14ccb20259f177bc61ab4813c85b263c">data_list_nodes</a> (vector&lt; string &gt; &amp;<a class="el" href="agent__data_8cpp.html#aebf0188d68a3040d593fc1727b58cb49">nodes</a>)</td></tr>
<tr class="memdesc:ga14ccb20259f177bc61ab4813c85b263c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of Nodes, indirectly.  <a href="#ga14ccb20259f177bc61ab4813c85b263c">More...</a><br /></td></tr>
<tr class="separator:ga14ccb20259f177bc61ab4813c85b263c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae50d2ee38742b131dae8a90e75f29c7a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gae50d2ee38742b131dae8a90e75f29c7a">data_get_nodes</a> (vector&lt; <a class="el" href="structcosmosstruc.html">cosmosstruc</a> &gt; &amp;<a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>)</td></tr>
<tr class="memdesc:gae50d2ee38742b131dae8a90e75f29c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get vector of Node structures.  <a href="#gae50d2ee38742b131dae8a90e75f29c7a">More...</a><br /></td></tr>
<tr class="separator:gae50d2ee38742b131dae8a90e75f29c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96783d5bc7fa817776ab68d2d9df86cf"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga96783d5bc7fa817776ab68d2d9df86cf">data_name</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, double <a class="el" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, string extra, string type)</td></tr>
<tr class="memdesc:ga96783d5bc7fa817776ab68d2d9df86cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create data file name.  <a href="#ga96783d5bc7fa817776ab68d2d9df86cf">More...</a><br /></td></tr>
<tr class="separator:ga96783d5bc7fa817776ab68d2d9df86cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae36e9c225e093f99de68264412a94847"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gae36e9c225e093f99de68264412a94847">data_name</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, double <a class="el" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, string type)</td></tr>
<tr class="separator:gae36e9c225e093f99de68264412a94847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a49fa31fb5680e8cdc6ef230cfe1ccf"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga3a49fa31fb5680e8cdc6ef230cfe1ccf">data_name_date</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string filename, uint16_t &amp;year, uint16_t &amp;jday, uint32_t &amp;seconds)</td></tr>
<tr class="memdesc:ga3a49fa31fb5680e8cdc6ef230cfe1ccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get date from file name.  <a href="#ga3a49fa31fb5680e8cdc6ef230cfe1ccf">More...</a><br /></td></tr>
<tr class="separator:ga3a49fa31fb5680e8cdc6ef230cfe1ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1920685876f702efe360c11c6b3dc32d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga1920685876f702efe360c11c6b3dc32d">data_name_date</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string filename, double &amp;utc)</td></tr>
<tr class="memdesc:ga1920685876f702efe360c11c6b3dc32d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get date from file name.  <a href="#ga1920685876f702efe360c11c6b3dc32d">More...</a><br /></td></tr>
<tr class="separator:ga1920685876f702efe360c11c6b3dc32d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f1b0c69165fbc05de719787f579cf68"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string location, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, string filename)</td></tr>
<tr class="memdesc:ga5f1b0c69165fbc05de719787f579cf68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create data file path.  <a href="#ga5f1b0c69165fbc05de719787f579cf68">More...</a><br /></td></tr>
<tr class="separator:ga5f1b0c69165fbc05de719787f579cf68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a2619848e0ca54e051d7b84a1b6d5c3"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga0a2619848e0ca54e051d7b84a1b6d5c3">data_base_path</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string location, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>)</td></tr>
<tr class="separator:ga0a2619848e0ca54e051d7b84a1b6d5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2dbc07b0dead4c0bac6bfc429f014417"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga2dbc07b0dead4c0bac6bfc429f014417">data_base_path</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string location)</td></tr>
<tr class="separator:ga2dbc07b0dead4c0bac6bfc429f014417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cd539ceee0b2732839410e76e1bf092"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga7cd539ceee0b2732839410e76e1bf092">data_base_path</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>)</td></tr>
<tr class="separator:ga7cd539ceee0b2732839410e76e1bf092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a65b48e2eacca665ddabaf84789ddd0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga1a65b48e2eacca665ddabaf84789ddd0">data_archive_path</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double <a class="el" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>)</td></tr>
<tr class="separator:ga1a65b48e2eacca665ddabaf84789ddd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade4d81e56aef2cda654079f687269673"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gade4d81e56aef2cda654079f687269673">data_type_path</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string location, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double <a class="el" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, string type)</td></tr>
<tr class="memdesc:gade4d81e56aef2cda654079f687269673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create data file path.  <a href="#gade4d81e56aef2cda654079f687269673">More...</a><br /></td></tr>
<tr class="separator:gade4d81e56aef2cda654079f687269673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26f2d60b4e6d46c899d5b2da7453a2d4"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga26f2d60b4e6d46c899d5b2da7453a2d4">data_type_path</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string location, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double <a class="el" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, string extra, string type)</td></tr>
<tr class="memdesc:ga26f2d60b4e6d46c899d5b2da7453a2d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create data file path.  <a href="#ga26f2d60b4e6d46c899d5b2da7453a2d4">More...</a><br /></td></tr>
<tr class="separator:ga26f2d60b4e6d46c899d5b2da7453a2d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac57bc06564956d3e3b0ca9669a712ccc"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gac57bc06564956d3e3b0ca9669a712ccc">data_name_path</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string location, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double <a class="el" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, string <a class="el" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>)</td></tr>
<tr class="memdesc:gac57bc06564956d3e3b0ca9669a712ccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create data file path.  <a href="#gac57bc06564956d3e3b0ca9669a712ccc">More...</a><br /></td></tr>
<tr class="separator:gac57bc06564956d3e3b0ca9669a712ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab65b54228ed1f3ced4c77ffed2e2e3ea"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gab65b54228ed1f3ced4c77ffed2e2e3ea">data_resource_path</a> (string <a class="el" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>)</td></tr>
<tr class="memdesc:gab65b54228ed1f3ced4c77ffed2e2e3ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create resource file path.  <a href="#gab65b54228ed1f3ced4c77ffed2e2e3ea">More...</a><br /></td></tr>
<tr class="separator:gab65b54228ed1f3ced4c77ffed2e2e3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d422aed1932f3e9395ccc1f5abd283b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga4d422aed1932f3e9395ccc1f5abd283b">data_exists</a> (string &amp;path)</td></tr>
<tr class="memdesc:ga4d422aed1932f3e9395ccc1f5abd283b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check existence of path.  <a href="#ga4d422aed1932f3e9395ccc1f5abd283b">More...</a><br /></td></tr>
<tr class="separator:ga4d422aed1932f3e9395ccc1f5abd283b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf677ca2d21cb62742ce3e1c289c428b8"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a> (string path, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *mode)</td></tr>
<tr class="memdesc:gaf677ca2d21cb62742ce3e1c289c428b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open file from path.  <a href="#gaf677ca2d21cb62742ce3e1c289c428b8">More...</a><br /></td></tr>
<tr class="separator:gaf677ca2d21cb62742ce3e1c289c428b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb18705f44af4166b071a7bb20947c90"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a> (string <a class="el" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>, bool create_flag)</td></tr>
<tr class="memdesc:gaeb18705f44af4166b071a7bb20947c90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Root Directory.  <a href="#gaeb18705f44af4166b071a7bb20947c90">More...</a><br /></td></tr>
<tr class="separator:gaeb18705f44af4166b071a7bb20947c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54279525dbf550981ab3ade6e4a98ffc"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga54279525dbf550981ab3ade6e4a98ffc">set_cosmosroot</a> (bool create_flag)</td></tr>
<tr class="memdesc:ga54279525dbf550981ab3ade6e4a98ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find Root Directory.  <a href="#ga54279525dbf550981ab3ade6e4a98ffc">More...</a><br /></td></tr>
<tr class="separator:ga54279525dbf550981ab3ade6e4a98ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8fd8efba618f7ba0f2d667360a3a4dd"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gae8fd8efba618f7ba0f2d667360a3a4dd">get_cosmosroot</a> (bool create_flag)</td></tr>
<tr class="memdesc:gae8fd8efba618f7ba0f2d667360a3a4dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return COSMOS Root Directory.  <a href="#gae8fd8efba618f7ba0f2d667360a3a4dd">More...</a><br /></td></tr>
<tr class="separator:gae8fd8efba618f7ba0f2d667360a3a4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e17e6f4f6e8d7b9da52862a9eb445fd"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga5e17e6f4f6e8d7b9da52862a9eb445fd">get_cosmosroot</a> (string &amp;result, bool create_flag)</td></tr>
<tr class="memdesc:ga5e17e6f4f6e8d7b9da52862a9eb445fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return COSMOS Root Directory.  <a href="#ga5e17e6f4f6e8d7b9da52862a9eb445fd">More...</a><br /></td></tr>
<tr class="separator:ga5e17e6f4f6e8d7b9da52862a9eb445fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac1c452cd45620d6aa85197caacae9c2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaac1c452cd45620d6aa85197caacae9c2">set_cosmosresources</a> (string <a class="el" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>, bool create_flag)</td></tr>
<tr class="memdesc:gaac1c452cd45620d6aa85197caacae9c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Resources Directory.  <a href="#gaac1c452cd45620d6aa85197caacae9c2">More...</a><br /></td></tr>
<tr class="separator:gaac1c452cd45620d6aa85197caacae9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09a01b1a76b21ff6d9fa0d8710b4e109"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga09a01b1a76b21ff6d9fa0d8710b4e109">set_cosmosresources</a> (bool create_flag)</td></tr>
<tr class="memdesc:ga09a01b1a76b21ff6d9fa0d8710b4e109"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find Resources Directory.  <a href="#ga09a01b1a76b21ff6d9fa0d8710b4e109">More...</a><br /></td></tr>
<tr class="separator:ga09a01b1a76b21ff6d9fa0d8710b4e109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ab0e5e717aa450e8d6cdc71958910aa"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga0ab0e5e717aa450e8d6cdc71958910aa">get_cosmosresources</a> (bool create_flag)</td></tr>
<tr class="memdesc:ga0ab0e5e717aa450e8d6cdc71958910aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return COSMOS Resources Directory.  <a href="#ga0ab0e5e717aa450e8d6cdc71958910aa">More...</a><br /></td></tr>
<tr class="separator:ga0ab0e5e717aa450e8d6cdc71958910aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa47fa62e743326a769d114b26865f52a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaa47fa62e743326a769d114b26865f52a">get_cosmosresources</a> (string &amp;result, bool create_flag)</td></tr>
<tr class="memdesc:gaa47fa62e743326a769d114b26865f52a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return COSMOS Resources Directory.  <a href="#gaa47fa62e743326a769d114b26865f52a">More...</a><br /></td></tr>
<tr class="separator:gaa47fa62e743326a769d114b26865f52a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga821114579d3f1b8aa333afe61b030a30"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga821114579d3f1b8aa333afe61b030a30">setEnvCosmosResources</a> (string path)</td></tr>
<tr class="memdesc:ga821114579d3f1b8aa333afe61b030a30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Environment Variable for COSMOS resources.  <a href="#ga821114579d3f1b8aa333afe61b030a30">More...</a><br /></td></tr>
<tr class="separator:ga821114579d3f1b8aa333afe61b030a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga321e797617b5caec8481a164d1658259"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga321e797617b5caec8481a164d1658259">setEnvCosmosNodes</a> (string path)</td></tr>
<tr class="memdesc:ga321e797617b5caec8481a164d1658259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Environment Variable for COSMOS nodes.  <a href="#ga321e797617b5caec8481a164d1658259">More...</a><br /></td></tr>
<tr class="separator:ga321e797617b5caec8481a164d1658259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6f121cde49ff2cb5cb4f4a34cd0a572"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaf6f121cde49ff2cb5cb4f4a34cd0a572">setEnv</a> (string var, string path)</td></tr>
<tr class="memdesc:gaf6f121cde49ff2cb5cb4f4a34cd0a572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Environment Variable for COSMOS.  <a href="#gaf6f121cde49ff2cb5cb4f4a34cd0a572">More...</a><br /></td></tr>
<tr class="separator:gaf6f121cde49ff2cb5cb4f4a34cd0a572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7311e13548ca2159ee867e8182e9374"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaa7311e13548ca2159ee867e8182e9374">setEnvCosmos</a> (string path)</td></tr>
<tr class="separator:gaa7311e13548ca2159ee867e8182e9374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga241b2638a2537f0b49f882b7f85cbbfe"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga241b2638a2537f0b49f882b7f85cbbfe">set_cosmosnodes</a> (string <a class="el" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>, bool create_flag)</td></tr>
<tr class="memdesc:ga241b2638a2537f0b49f882b7f85cbbfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Nodes Directory.  <a href="#ga241b2638a2537f0b49f882b7f85cbbfe">More...</a><br /></td></tr>
<tr class="separator:ga241b2638a2537f0b49f882b7f85cbbfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8781e6d640e9a02a7d41071fbea1347"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaf8781e6d640e9a02a7d41071fbea1347">set_cosmosnodes</a> (bool create_flag)</td></tr>
<tr class="memdesc:gaf8781e6d640e9a02a7d41071fbea1347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find COSMOS Nodes Directory on Windows, Linux or MacOS.  <a href="#gaf8781e6d640e9a02a7d41071fbea1347">More...</a><br /></td></tr>
<tr class="separator:gaf8781e6d640e9a02a7d41071fbea1347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33ad16ae49ca7da3fc6976f81f041613"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga33ad16ae49ca7da3fc6976f81f041613">get_cosmosnodes</a> (bool create_flag)</td></tr>
<tr class="memdesc:ga33ad16ae49ca7da3fc6976f81f041613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return COSMOS Nodes Directory.  <a href="#ga33ad16ae49ca7da3fc6976f81f041613">More...</a><br /></td></tr>
<tr class="separator:ga33ad16ae49ca7da3fc6976f81f041613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f0a50b95a7f76230ecf1ed5f7cb3e07"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga1f0a50b95a7f76230ecf1ed5f7cb3e07">get_cosmosnodes</a> (string &amp;result, bool create_flag)</td></tr>
<tr class="memdesc:ga1f0a50b95a7f76230ecf1ed5f7cb3e07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get COSMOS Nodes Directory.  <a href="#ga1f0a50b95a7f76230ecf1ed5f7cb3e07">More...</a><br /></td></tr>
<tr class="separator:ga1f0a50b95a7f76230ecf1ed5f7cb3e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab01257dde63e1eb92dc01ca53ddc8e9"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaab01257dde63e1eb92dc01ca53ddc8e9">get_nodedir</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, bool create_flag)</td></tr>
<tr class="memdesc:gaab01257dde63e1eb92dc01ca53ddc8e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Current Node Directory.  <a href="#gaab01257dde63e1eb92dc01ca53ddc8e9">More...</a><br /></td></tr>
<tr class="separator:gaab01257dde63e1eb92dc01ca53ddc8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6767e216e8031b92a94bcd90497ddb71"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga6767e216e8031b92a94bcd90497ddb71">data_load_archive</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double utcbegin, double <a class="el" href="fast__contacts_8cpp.html#ab0fa33b75b0fb3cb5ae1ed033ffe314c">utcend</a>, string type, vector&lt; string &gt; &amp;result)</td></tr>
<tr class="memdesc:ga6767e216e8031b92a94bcd90497ddb71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load data from archive.  <a href="#ga6767e216e8031b92a94bcd90497ddb71">More...</a><br /></td></tr>
<tr class="separator:ga6767e216e8031b92a94bcd90497ddb71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0349eabd99c32b097a34f83a41f699ac"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga0349eabd99c32b097a34f83a41f699ac">data_load_archive</a> (string <a class="el" href="agent__transmitter2_8cpp.html#ad29dd3eb08405cc91b75944131d22f86">node</a>, string <a class="el" href="udp__listen_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, double <a class="el" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, string type, vector&lt; string &gt; &amp;result)</td></tr>
<tr class="separator:ga0349eabd99c32b097a34f83a41f699ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2aafdfded46f7b00514dff86318da0a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaa2aafdfded46f7b00514dff86318da0a">data_load_archive</a> (double <a class="el" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, vector&lt; string &gt; &amp;telem, vector&lt; string &gt; &amp;event, <a class="el" href="structcosmosstruc.html">cosmosstruc</a> *cinfo)</td></tr>
<tr class="separator:gaa2aafdfded46f7b00514dff86318da0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1574766c974437c6e5919e339bca9693"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga1574766c974437c6e5919e339bca9693">findlastday</a> (string <a class="el" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>)</td></tr>
<tr class="memdesc:ga1574766c974437c6e5919e339bca9693"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find last day in archive.  <a href="#ga1574766c974437c6e5919e339bca9693">More...</a><br /></td></tr>
<tr class="separator:ga1574766c974437c6e5919e339bca9693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab36b822ba566b5cf6f9dba5e2ff67e29"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gab36b822ba566b5cf6f9dba5e2ff67e29">findfirstday</a> (string <a class="el" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>)</td></tr>
<tr class="memdesc:gab36b822ba566b5cf6f9dba5e2ff67e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find first day in archive.  <a href="#gab36b822ba566b5cf6f9dba5e2ff67e29">More...</a><br /></td></tr>
<tr class="separator:gab36b822ba566b5cf6f9dba5e2ff67e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0b5702ea8b9057599a552d26a6704a9"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gaa0b5702ea8b9057599a552d26a6704a9">kml_write</a> (<a class="el" href="structcosmosstruc.html">cosmosstruc</a> *cinfo)</td></tr>
<tr class="memdesc:gaa0b5702ea8b9057599a552d26a6704a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add to KML path.  <a href="#gaa0b5702ea8b9057599a552d26a6704a9">More...</a><br /></td></tr>
<tr class="separator:gaa0b5702ea8b9057599a552d26a6704a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bc39454c39861b4db8d540109f0c501"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a> (string path)</td></tr>
<tr class="separator:ga6bc39454c39861b4db8d540109f0c501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e7b3239a0f889504953c8c83169f1f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga1e7b3239a0f889504953c8c83169f1f5">data_ischardev</a> (string path)</td></tr>
<tr class="separator:ga1e7b3239a0f889504953c8c83169f1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ab746fbf6671c2bc52abba932755c0d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga9ab746fbf6671c2bc52abba932755c0d">data_isfile</a> (string path, off_t size)</td></tr>
<tr class="separator:ga9ab746fbf6671c2bc52abba932755c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b51f0c4f0a7346f998eb190e310fb6d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga5b51f0c4f0a7346f998eb190e310fb6d">data_ctime</a> (string path)</td></tr>
<tr class="separator:ga5b51f0c4f0a7346f998eb190e310fb6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27813533fea90c2ac1cc24e010cc0e1d"><td class="memItemLeft" align="right" valign="top">off_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga27813533fea90c2ac1cc24e010cc0e1d">data_size</a> (string path)</td></tr>
<tr class="separator:ga27813533fea90c2ac1cc24e010cc0e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87c6726c96615551b627c08013206994"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#ga87c6726c96615551b627c08013206994">log_reopen</a> ()</td></tr>
<tr class="separator:ga87c6726c96615551b627c08013206994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac94b13dad42574718041ce0ebfd71418"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datalib__functions.html#gac94b13dad42574718041ce0ebfd71418">check_events</a> (<a class="el" href="unioneventstruc.html">eventstruc</a> *<a class="el" href="propagator_8cpp.html#aeabdfd24ab16a9f875a99b3dc77920a8">events</a>, int max, <a class="el" href="structcosmosstruc.html">cosmosstruc</a> *data)</td></tr>
<tr class="separator:gac94b13dad42574718041ce0ebfd71418"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5c64b9eafbfadb9af58898a35764e7ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_write </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>utc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>extra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write log entry - full. </p>
<p>Append the provided string to a file in the {node}/{location}/{agent} directory. The file name is created as {node}_yyyyjjjsssss_{extra}.{type} </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node name. </td></tr>
    <tr><td class="paramname">location</td><td>Location name. </td></tr>
    <tr><td class="paramname">agent</td><td>Agent name. </td></tr>
    <tr><td class="paramname">utc</td><td>UTC to be converted to year (yyyy), julian day (jjj) and seconds (sssss). </td></tr>
    <tr><td class="paramname">extra</td><td>Extra part of name. </td></tr>
    <tr><td class="paramname">type</td><td>Type part of name. </td></tr>
    <tr><td class="paramname">record</td><td>String to be appended to file. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    FILE *fout;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">string</span> path;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> (utc == 0.)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (extra.empty())</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        path = <a class="code" href="group__datalib__functions.html#gade4d81e56aef2cda654079f687269673">data_type_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, location, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, utc, type);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        path = <a class="code" href="group__datalib__functions.html#gade4d81e56aef2cda654079f687269673">data_type_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, location, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, utc, extra, type);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (location == <span class="stringliteral">&quot;immediate&quot;</span>)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        fout = <a class="code" href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a>(path, const_cast&lt;char *&gt;(<span class="stringliteral">&quot;w&quot;</span>));</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        fout = <a class="code" href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a>(path, const_cast&lt;char *&gt;(<span class="stringliteral">&quot;a+&quot;</span>));</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (fout  != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        fprintf(fout,<span class="stringliteral">&quot;%s\n&quot;</span>,record.c_str());</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        fclose(fout);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaf677ca2d21cb62742ce3e1c289c428b8"><div class="ttname"><a href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a></div><div class="ttdeci">FILE * data_open(string path, const char *mode)</div><div class="ttdoc">Open file from path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1019</div></div>
<div class="ttc" id="group__datalib__functions_html_gade4d81e56aef2cda654079f687269673"><div class="ttname"><a href="group__datalib__functions.html#gade4d81e56aef2cda654079f687269673">data_type_path</a></div><div class="ttdeci">string data_type_path(string node, string location, string agent, double mjd, string type)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:910</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga0850356ac1f4275b5e0f94f382dbeb7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_write </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>utc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>record</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write log entry - fixed location. </p>
<p>Append the provided string to a file in the {node}/temp/{agent} directory. The file name is created as {node}_yyyyjjjsssss_{extra}.{type} </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node name. </td></tr>
    <tr><td class="paramname">agent</td><td>Agent name. </td></tr>
    <tr><td class="paramname">utc</td><td>UTC to be converted to year (yyyy), julian day (jjj) and seconds (sssss). </td></tr>
    <tr><td class="paramname">extra</td><td>Extra part of name. </td></tr>
    <tr><td class="paramname">type</td><td>Type part of name. </td></tr>
    <tr><td class="paramname">record</td><td>String to be appended to file.Write log entry - fixed location, no extra</td></tr>
  </table>
  </dd>
</dl>
<p>Append the provided string to a file in the {node}/temp/{agent} directory. The file name is created as {node}_yyyyjjjsssss.{type} </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node name. </td></tr>
    <tr><td class="paramname">agent</td><td>Agent name. </td></tr>
    <tr><td class="paramname">utc</td><td>UTC to be converted to year (yyyy), julian day (jjj) and seconds (sssss). </td></tr>
    <tr><td class="paramname">type</td><td>Type part of name. </td></tr>
    <tr><td class="paramname">record</td><td>String to be appended to file. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed">log_write</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, utc, <span class="stringliteral">&quot;&quot;</span>, type, record);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">//    FILE *fout;</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">//    string path;</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">//    if (utc == 0.)</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">//        return;</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">//    path = data_type_path(node, &quot;temp&quot;, agent, utc, type);</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">//    if ((fout = data_open(path, (char *)&quot;a+&quot;)) != nullptr)</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">//    {</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">//        fprintf(fout,&quot;%s\n&quot;,record);</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">//        fclose(fout);</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">//    }</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div><div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="group__datalib__functions_html_ga5c64b9eafbfadb9af58898a35764e7ed"><div class="ttname"><a href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed">log_write</a></div><div class="ttdeci">void log_write(string node, string agent, double utc, string extra, string type, string record, string location)</div><div class="ttdoc">Write log entry - full. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:75</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga78a54225b7a4367c4bd8452852810533"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_write </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>utc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>directory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write log entry - fixed location, no extra, integer type and agent. </p>
<p>Append the provided string to a file in the {node}/temp/{agent_name} directory. The file name is created as {node}_yyyyjjjsssss.{type_name} </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node name. </td></tr>
    <tr><td class="paramname">type</td><td>Integer specifying what type and agent of file. </td></tr>
    <tr><td class="paramname">utc</td><td>UTC to be converted to year (yyyy), julian day (jjj) and seconds (sssss). </td></tr>
    <tr><td class="paramname">record</td><td>String to be appended to file. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">//    FILE *fout;</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">//    string path;</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">//    if (utc == 0.)</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">//        return;</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">switch</span> (type)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__datalib__constants.html#ga52f9ee0ff86d249081ec62ebbe2d4b17">DATA_LOG_TYPE_SOH</a>:</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed">log_write</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <span class="stringliteral">&quot;soh&quot;</span>, utc, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;telemetry&quot;</span>, record);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="comment">//        path = data_type_path(node, &quot;temp&quot;, &quot;soh&quot;, utc, &quot;telemetry&quot;);</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__datalib__constants.html#ga4669de17ee0083211c0cd3b0200ab10b">DATA_LOG_TYPE_EVENT</a>:</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed">log_write</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <span class="stringliteral">&quot;soh&quot;</span>, utc, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;event&quot;</span>, record);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="comment">//        path = data_type_path(node, &quot;temp&quot;, &quot;soh&quot;, utc, &quot;event&quot;);</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__datalib__constants.html#gab34dbfced21b851fb4a297c1ec62a25c">DATA_LOG_TYPE_BEACON</a>:</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed">log_write</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <span class="stringliteral">&quot;beacon&quot;</span>, utc, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;beacon&quot;</span>, record);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment">//        path = data_type_path(node, &quot;temp&quot;, &quot;beacon&quot;, utc, &quot;beacon&quot;);</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed">log_write</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <span class="stringliteral">&quot;soh&quot;</span>, utc, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;log&quot;</span>, record);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="comment">//        path = data_type_path(node, &quot;temp&quot;, &quot;soh&quot;, utc, &quot;log&quot;);</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">//    if ((fout = data_open(path, (char *)&quot;a+&quot;)) != nullptr)</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">//    {</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">//        fprintf(fout,&quot;%s\n&quot;,record);</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">//        fclose(fout);</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">//    }</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div><div class="ttc" id="group__datalib__constants_html_ga52f9ee0ff86d249081ec62ebbe2d4b17"><div class="ttname"><a href="group__datalib__constants.html#ga52f9ee0ff86d249081ec62ebbe2d4b17">DATA_LOG_TYPE_SOH</a></div><div class="ttdeci">#define DATA_LOG_TYPE_SOH</div><div class="ttdef"><b>Definition:</b> datadef.h:43</div></div>
<div class="ttc" id="group__datalib__constants_html_gab34dbfced21b851fb4a297c1ec62a25c"><div class="ttname"><a href="group__datalib__constants.html#gab34dbfced21b851fb4a297c1ec62a25c">DATA_LOG_TYPE_BEACON</a></div><div class="ttdeci">#define DATA_LOG_TYPE_BEACON</div><div class="ttdef"><b>Definition:</b> datadef.h:45</div></div>
<div class="ttc" id="group__datalib__functions_html_ga5c64b9eafbfadb9af58898a35764e7ed"><div class="ttname"><a href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed">log_write</a></div><div class="ttdeci">void log_write(string node, string agent, double utc, string extra, string type, string record, string location)</div><div class="ttdoc">Write log entry - full. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:75</div></div>
<div class="ttc" id="group__datalib__constants_html_ga4669de17ee0083211c0cd3b0200ab10b"><div class="ttname"><a href="group__datalib__constants.html#ga4669de17ee0083211c0cd3b0200ab10b">DATA_LOG_TYPE_EVENT</a></div><div class="ttdeci">#define DATA_LOG_TYPE_EVENT</div><div class="ttdef"><b>Definition:</b> datadef.h:44</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga54310d03cd4a73dea7c1795dc918138a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_move </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>oldpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>newpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move log file - path version. </p>
<p>Move files previously created with <a class="el" href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed" title="Write log entry - full. ">log_write</a> to their final location, optionally compressing with gzip. The path version accepts only specific paths, from and to, and whether compression should be used. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oldpath</td><td>Path to move from. </td></tr>
    <tr><td class="paramname">newpath</td><td>Path to move to. </td></tr>
    <tr><td class="paramname">compress</td><td>Wether or not to compress with gzip. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="compress_8c.html#aef315743418d760a360e1be293d27cd1">compress</a>)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="propagator__simple_8cpp.html#aefc66c7c76cac6590187a1f7afb99cd9">buffer</a>[8192];</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordtype">string</span> temppath = oldpath + <span class="stringliteral">&quot;.gz&quot;</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        newpath += <span class="stringliteral">&quot;.gz&quot;</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        FILE *fin = <a class="code" href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a>(oldpath, <span class="stringliteral">&quot;rb&quot;</span>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        FILE *fout = <a class="code" href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a>(temppath, <span class="stringliteral">&quot;wb&quot;</span>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="structgz_file__s.html">gzFile</a> gzfout;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        gzfout = <a class="code" href="gzlib_8c.html#a8f2a01545223ba6b825118addb6f1534">gzdopen</a>(fileno(fout), <span class="stringliteral">&quot;a&quot;</span>);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">do</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordtype">unsigned</span> nbytes = (unsigned)fread(buffer, 1, 8192, fin);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">if</span> (nbytes)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                <a class="code" href="gzwrite_8c.html#a93323ef1288f105db8a89e80f2764d3b">gzwrite</a>(gzfout, buffer, nbytes);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        } <span class="keywordflow">while</span> (!feof(fin));</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        fclose(fin);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="gzwrite_8c.html#a6f657e5b498bef603821cdf41c8375d4">gzclose_w</a>(gzfout);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        rename(temppath.c_str(), newpath.c_str());</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keyword">remove</span>(temppath.c_str());</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        rename(oldpath.c_str(), newpath.c_str());</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">remove</span>(oldpath.c_str());</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaf677ca2d21cb62742ce3e1c289c428b8"><div class="ttname"><a href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a></div><div class="ttdeci">FILE * data_open(string path, const char *mode)</div><div class="ttdoc">Open file from path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1019</div></div>
<div class="ttc" id="gzwrite_8c_html_a93323ef1288f105db8a89e80f2764d3b"><div class="ttname"><a href="gzwrite_8c.html#a93323ef1288f105db8a89e80f2764d3b">gzwrite</a></div><div class="ttdeci">int ZEXPORT gzwrite(gzFile file, voidpc buf, unsigned len)</div><div class="ttdef"><b>Definition:</b> gzwrite.c:165</div></div>
<div class="ttc" id="propagator__simple_8cpp_html_aefc66c7c76cac6590187a1f7afb99cd9"><div class="ttname"><a href="propagator__simple_8cpp.html#aefc66c7c76cac6590187a1f7afb99cd9">buffer</a></div><div class="ttdeci">char buffer[255]</div><div class="ttdef"><b>Definition:</b> propagator_simple.cpp:60</div></div>
<div class="ttc" id="gzlib_8c_html_a8f2a01545223ba6b825118addb6f1534"><div class="ttname"><a href="gzlib_8c.html#a8f2a01545223ba6b825118addb6f1534">gzdopen</a></div><div class="ttdeci">gzFile ZEXPORT gzdopen(int fd, const char *mode)</div><div class="ttdef"><b>Definition:</b> gzlib.c:284</div></div>
<div class="ttc" id="gzwrite_8c_html_a6f657e5b498bef603821cdf41c8375d4"><div class="ttname"><a href="gzwrite_8c.html#a6f657e5b498bef603821cdf41c8375d4">gzclose_w</a></div><div class="ttdeci">int ZEXPORT gzclose_w(gzFile file)</div><div class="ttdef"><b>Definition:</b> gzwrite.c:539</div></div>
<div class="ttc" id="compress_8c_html_aef315743418d760a360e1be293d27cd1"><div class="ttname"><a href="compress_8c.html#aef315743418d760a360e1be293d27cd1">compress</a></div><div class="ttdeci">int ZEXPORT compress(Bytef *dest, uLongf *destLen, const Bytef *source, uLong sourceLen)</div><div class="ttdef"><b>Definition:</b> compress.c:62</div></div>
<div class="ttc" id="structgz_file__s_html"><div class="ttname"><a href="structgz_file__s.html">gzFile_s</a></div><div class="ttdef"><b>Definition:</b> zlib.h:1670</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad23fd76c53eeb3977052173c62175188"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_move </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>srclocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>dstlocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move log file - full version. </p>
<p>Move files previously created with <a class="el" href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed" title="Write log entry - full. ">log_write</a> to their final location, optionally compressing with gzip. The full version allows for specification of the source and destination locations, and whether compression should be used. The routine will find all files currently in {node}/{srclocation}/{agent} and move them to {node}/{dstlocation}/{agent}. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node name. </td></tr>
    <tr><td class="paramname">agent</td><td>Agent name. </td></tr>
    <tr><td class="paramname">srclocation</td><td>Source location name. </td></tr>
    <tr><td class="paramname">dstlocation</td><td>Destination location name. </td></tr>
    <tr><td class="paramname">compress</td><td>Wether or not to compress with gzip. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">//    char buffer[8192];</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    vector&lt;filestruc&gt; oldfiles;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="group__datalib__functions.html#gae39f5af9321411a7f5bc6b8cb4e3a9c3">data_list_files</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, srclocation, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, oldfiles);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> oldfile: oldfiles)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <a class="code" href="group__datalib__functions.html#ga54310d03cd4a73dea7c1795dc918138a">log_move</a>(oldfile.path, <a class="code" href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, dstlocation, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, oldfile.name), <a class="code" href="compress_8c.html#aef315743418d760a360e1be293d27cd1">compress</a>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">//        string oldpath = oldfile.path;</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">//        if (compress)</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">//        {</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">//            string temppath = oldfile.path + &quot;.gz&quot;;</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">//            string newpath = data_base_path(node, dstlocation, agent, oldfile.name + &quot;.gz&quot;);</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">//            FILE *fin = data_open(oldpath, &quot;rb&quot;);</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">//            FILE *fout = data_open(temppath, &quot;wb&quot;);</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">//            gzFile gzfout;</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">//            gzfout = gzdopen(fileno(fout), &quot;a&quot;);</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">//            do</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">//            {</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">//                unsigned nbytes = (unsigned)fread(buffer, 1, 8192, fin);</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">//                if (nbytes)</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">//                {</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">//                    gzwrite(gzfout, buffer, nbytes);</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">//                }</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">//            } while (!feof(fin));</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">//            fclose(fin);</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">//            gzclose_w(gzfout);</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">//            rename(temppath.c_str(), newpath.c_str());</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">//            remove(temppath.c_str());</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">//        }</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">//        else</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">//        {</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">//            string newpath = data_base_path(node, dstlocation, agent, oldfile.name);</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">//            rename(oldpath.c_str(), newpath.c_str());</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">//        }</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">//        remove(oldpath.c_str());</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga54310d03cd4a73dea7c1795dc918138a"><div class="ttname"><a href="group__datalib__functions.html#ga54310d03cd4a73dea7c1795dc918138a">log_move</a></div><div class="ttdeci">void log_move(string oldpath, string newpath, bool compress)</div><div class="ttdoc">Move log file - path version. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:200</div></div>
<div class="ttc" id="group__datalib__functions_html_gae39f5af9321411a7f5bc6b8cb4e3a9c3"><div class="ttname"><a href="group__datalib__functions.html#gae39f5af9321411a7f5bc6b8cb4e3a9c3">data_list_files</a></div><div class="ttdeci">vector&lt; filestruc &gt; data_list_files(string directory)</div><div class="ttdoc">Get list of files in a directory, directly. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:461</div></div>
<div class="ttc" id="group__datalib__functions_html_ga5f1b0c69165fbc05de719787f579cf68"><div class="ttname"><a href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a></div><div class="ttdeci">string data_base_path(string node, string location, string agent, string filename)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:767</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="compress_8c_html_aef315743418d760a360e1be293d27cd1"><div class="ttname"><a href="compress_8c.html#aef315743418d760a360e1be293d27cd1">compress</a></div><div class="ttdeci">int ZEXPORT compress(Bytef *dest, uLongf *destLen, const Bytef *source, uLong sourceLen)</div><div class="ttdef"><b>Definition:</b> compress.c:62</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga57d5fe2a985e9f852c92a52394613e51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_move </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move log file - short version. </p>
<p>Move files previously created with <a class="el" href="group__datalib__functions.html#ga5c64b9eafbfadb9af58898a35764e7ed" title="Write log entry - full. ">log_write</a> to their final location. The short version assumes a source location of "temp" and a destination locations of "outgoing". The routine will find all files currently in {node}/temp/{agent} and move them to {node}/outgoing/{agent}. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node name. </td></tr>
    <tr><td class="paramname">agent</td><td>Agent name. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="group__datalib__functions.html#ga54310d03cd4a73dea7c1795dc918138a">log_move</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, <span class="stringliteral">&quot;temp&quot;</span>, <span class="stringliteral">&quot;outgoing&quot;</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga54310d03cd4a73dea7c1795dc918138a"><div class="ttname"><a href="group__datalib__functions.html#ga54310d03cd4a73dea7c1795dc918138a">log_move</a></div><div class="ttdeci">void log_move(string oldpath, string newpath, bool compress)</div><div class="ttdoc">Move log file - path version. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:200</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad088bd3a474403017d1764c388385cc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; double &gt; data_list_archive_days </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of days in a Node archive. </p>
<p>Generate a list of days available in the archive of the indicated Node and Agent. The result is returned as a vector of Modified Julian Days. </p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    vector &lt;double&gt; days;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// Check Base Path</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">string</span> bpath = <a class="code" href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <span class="stringliteral">&quot;data&quot;</span>, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="struct_d_i_r.html">DIR</a> *jdp;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(bpath.c_str())) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keyword">struct </span><a class="code" href="structdirent.html">dirent</a> *td;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="comment">// Check Year Path</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span> &amp;&amp; atof(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>) &gt; 1900 &amp;&amp; atof(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>) &lt; 3000)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordtype">string</span> ypath = (bpath + <span class="stringliteral">&quot;/&quot;</span>) + td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <a class="code" href="struct_d_i_r.html">DIR</a> *jdp;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                if ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(ypath.c_str())) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    <span class="keywordtype">double</span> year = atof(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    <span class="keyword">struct </span><a class="code" href="structdirent.html">dirent</a> *td;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                    <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        <span class="comment">// Check Day Path</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                        <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span> &amp;&amp; atof(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>) &gt; 0 &amp;&amp; atof(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>) &lt; 367)</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                        {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                            <span class="keywordtype">string</span> dpath = (ypath + <span class="stringliteral">&quot;/&quot;</span>) + td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                            <span class="comment">//                            struct stat st;</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                            <span class="comment">//                            stat(dpath.c_str(), &amp;st);</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                            <span class="comment">//                            if (S_ISDIR(st.st_mode))</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                            if (<a class="code" href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a>(dpath))</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                            {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                <span class="keywordtype">double</span> jday = atof(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                <span class="keywordtype">double</span> <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a> = <a class="code" href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a>((<span class="keywordtype">int</span>)year, 1, 0.) + jday;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                days.push_back(mjd);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                            }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    sort(days.begin(), days.end());</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">return</span> days;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div><div class="ttc" id="dirent_8c_html_ac0258906f9453b8abf03e945aa9c9676"><div class="ttname"><a href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a></div><div class="ttdeci">int closedir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:74</div></div>
<div class="ttc" id="struct_d_i_r_html"><div class="ttname"><a href="struct_d_i_r.html">DIR</a></div><div class="ttdef"><b>Definition:</b> dirent.c:24</div></div>
<div class="ttc" id="group__datalib__functions_html_ga5f1b0c69165fbc05de719787f579cf68"><div class="ttname"><a href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a></div><div class="ttdeci">string data_base_path(string node, string location, string agent, string filename)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:767</div></div>
<div class="ttc" id="structdirent_html"><div class="ttname"><a href="structdirent.html">dirent</a></div><div class="ttdef"><b>Definition:</b> dirent.h:21</div></div>
<div class="ttc" id="dirent_8c_html_a1632d8c06c14f295c6d9407b7fec67af"><div class="ttname"><a href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a></div><div class="ttdeci">DIR * opendir(const char *name)</div><div class="ttdef"><b>Definition:</b> dirent.c:32</div></div>
<div class="ttc" id="dirent_8c_html_ae4d263c5a1d3825c9511a898762513b2"><div class="ttname"><a href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a></div><div class="ttdeci">struct dirent * readdir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:97</div></div>
<div class="ttc" id="structdirent_html_ab703007dd91aa1f311cf0fc85268b2e1"><div class="ttname"><a href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">dirent::d_name</a></div><div class="ttdeci">char * d_name</div><div class="ttdef"><b>Definition:</b> dirent.h:23</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="group__datalib__functions_html_ga6bc39454c39861b4db8d540109f0c501"><div class="ttname"><a href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a></div><div class="ttdeci">bool data_isdir(string path)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:1865</div></div>
<div class="ttc" id="group__timelib__functions_html_ga710482e26d7363e9990468c4b213e618"><div class="ttname"><a href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a></div><div class="ttdeci">double cal2mjd(int32_t year, int32_t month, int32_t day, int32_t hour, int32_t minute, int32_t second, int32_t nsecond)</div><div class="ttdoc">Calendar representation to Modified Julian Day - full. </div><div class="ttdef"><b>Definition:</b> timelib.cpp:294</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3adbbdea2942ab54b0e9bff132cb07d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string log_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zlib_8h.html#a8e80bd9e2c359bc5bdabb2e97b4e62bf">gzFile</a> &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>log_reads Loop until the newline character is seen. Append it to a string and return the line once the newline is met. </p>
<p>Use this function to loop through the gzfile until eof is reached. It returns each string line by line in the log file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The file to be read. </td></tr>
    <tr><td class="paramname">num</td><td>The maximum number of characters to be written to the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Each string in the gzfile. </dd></dl>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                       {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">string</span> <a class="code" href="propagator__simple_8cpp.html#aefc66c7c76cac6590187a1f7afb99cd9">buffer</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    buffer.resize(num);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordtype">string</span> line;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">while</span> (!(line.back() == <span class="charliteral">&#39;\n&#39;</span>)) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="gzread_8c.html#a72d5c31ad36987a6a3252d56f1e98664">gzgets</a>(file, const_cast &lt;char *&gt;(buffer.data()), num);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        line.append(buffer);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gzlib_8c.html#a824d669e463e728eccc79c6ce57674a0">gzeof</a>(file)) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">return</span> line;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="gzclose_8c.html#aa7cbb6800b5c2e3a897b4470fbb3abcd">gzclose</a>(file);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div><div class="ttc" id="gzlib_8c_html_a824d669e463e728eccc79c6ce57674a0"><div class="ttname"><a href="gzlib_8c.html#a824d669e463e728eccc79c6ce57674a0">gzeof</a></div><div class="ttdeci">int ZEXPORT gzeof(gzFile file)</div><div class="ttdef"><b>Definition:</b> gzlib.c:511</div></div>
<div class="ttc" id="gzclose_8c_html_aa7cbb6800b5c2e3a897b4470fbb3abcd"><div class="ttname"><a href="gzclose_8c.html#aa7cbb6800b5c2e3a897b4470fbb3abcd">gzclose</a></div><div class="ttdeci">int ZEXPORT gzclose(gzFile file)</div><div class="ttdef"><b>Definition:</b> gzclose.c:11</div></div>
<div class="ttc" id="propagator__simple_8cpp_html_aefc66c7c76cac6590187a1f7afb99cd9"><div class="ttname"><a href="propagator__simple_8cpp.html#aefc66c7c76cac6590187a1f7afb99cd9">buffer</a></div><div class="ttdeci">char buffer[255]</div><div class="ttdef"><b>Definition:</b> propagator_simple.cpp:60</div></div>
<div class="ttc" id="gzread_8c_html_a72d5c31ad36987a6a3252d56f1e98664"><div class="ttname"><a href="gzread_8c.html#a72d5c31ad36987a6a3252d56f1e98664">gzgets</a></div><div class="ttdeci">char *ZEXPORT gzgets(gzFile file, char *buf, int len)</div><div class="ttdef"><b>Definition:</b> gzread.c:483</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaaf00a4557c26fd8f628b8338d6b52ee2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt; data_list_archive </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>utc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of files in a Node archive. </p>
<p>Generate a list of archived files for the indicated Node, Agent, and UTC. The result is returned as a vector of <a class="el" href="structfilestruc.html">filestruc</a>, one entry for each file found. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node to search. </td></tr>
    <tr><td class="paramname">agent</td><td>Subdirectory of location to search. </td></tr>
    <tr><td class="paramname">utc</td><td>Day in archive as MJD. </td></tr>
    <tr><td class="paramname">type</td><td>File extension. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A C++ vector of <a class="el" href="structfilestruc.html">filestruc</a>. Zero size if no files are found. </dd></dl>
<div class="fragment"><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    vector&lt;filestruc&gt; files;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">string</span> dtemp;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="struct_d_i_r.html">DIR</a> *jdp;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdirent.html">dirent</a> *td;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="structfilestruc.html">filestruc</a> tf;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    tf.<a class="code" href="structfilestruc.html#a8f954826e9466a99e6474513240efc41">node</a> = <a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    tf.<a class="code" href="structfilestruc.html#af03eb2b3ad8bb133b0dae883ec6e21c1">agent</a> = <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    dtemp = <a class="code" href="group__datalib__functions.html#ga1a65b48e2eacca665ddabaf84789ddd0">data_archive_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, utc);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(dtemp.c_str())) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                tf.<a class="code" href="structfilestruc.html#ac3035e75c170b64a1a933f525e6b182c">name</a> = td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                tf.<a class="code" href="structfilestruc.html#a758a1472deec19178fee0747ed6671a3">path</a> = dtemp + <span class="stringliteral">&quot;/&quot;</span> + tf.<a class="code" href="structfilestruc.html#ac3035e75c170b64a1a933f525e6b182c">name</a>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                stat(tf.<a class="code" href="structfilestruc.html#a758a1472deec19178fee0747ed6671a3">path</a>.c_str(), &amp;st);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                tf.<a class="code" href="structfilestruc.html#a89706d92c3d0c5fb7a38195677b34625">size</a> = st.st_size;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="comment">// Not looking for a specific type, or specifically looking for directory</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="datalib_8cpp.html#a83d95e86842d558985aa9da65e056eba">S_ISDIR</a>(st.st_mode) &amp;&amp; (type.empty() || type == <span class="stringliteral">&quot;directory&quot;</span>))</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    tf.<a class="code" href="structfilestruc.html#afc3db89dbf30fefd06591f6ac13218b5">type</a> = <span class="stringliteral">&quot;directory&quot;</span>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=strlen(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>)-1; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;strlen(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>); --<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                        {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                            tf.<a class="code" href="structfilestruc.html#afc3db89dbf30fefd06591f6ac13218b5">type</a> = &amp;td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>+1];</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                        }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                    }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                <span class="comment">// Not looking for a specific type, or found type we were looking for</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <span class="keywordflow">if</span> (type.empty() || tf.<a class="code" href="structfilestruc.html#afc3db89dbf30fefd06591f6ac13218b5">type</a> == type)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a> = <a class="code" href="group__datalib__functions.html#ga3a49fa31fb5680e8cdc6ef230cfe1ccf">data_name_date</a>(tf.<a class="code" href="structfilestruc.html#a8f954826e9466a99e6474513240efc41">node</a>, tf.<a class="code" href="structfilestruc.html#ac3035e75c170b64a1a933f525e6b182c">name</a>, tf.<a class="code" href="structfilestruc.html#aa98a521711bece55e8541802d8eadf9d">year</a>, tf.<a class="code" href="structfilestruc.html#a3e84bd39ca570e4a7070658abee7db6b">jday</a>, tf.<a class="code" href="structfilestruc.html#a19ec675569296f21986e6ee950e7a397">seconds</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    <span class="keywordflow">if</span> (iretn == 0)</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        tf.<a class="code" href="structfilestruc.html#a5982add71c3f41449c4b70f0f2e63946">utc</a> = <a class="code" href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a>(tf.<a class="code" href="structfilestruc.html#aa98a521711bece55e8541802d8eadf9d">year</a>, 1, tf.<a class="code" href="structfilestruc.html#a19ec675569296f21986e6ee950e7a397">seconds</a>/86400.) + tf.<a class="code" href="structfilestruc.html#a3e84bd39ca570e4a7070658abee7db6b">jday</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                        files.push_back(tf);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=files.size()-1; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&gt;0; --<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                        {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                            <span class="keywordflow">if</span> (files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].utc &lt; files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>-1].utc)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                            {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                tf = files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>-1];</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>-1] = files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] = tf;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                            }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                        }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">return</span> files;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div><div class="ttc" id="structfilestruc_html_ac3035e75c170b64a1a933f525e6b182c"><div class="ttname"><a href="structfilestruc.html#ac3035e75c170b64a1a933f525e6b182c">filestruc::name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> datadef.h:56</div></div>
<div class="ttc" id="structfilestruc_html_a89706d92c3d0c5fb7a38195677b34625"><div class="ttname"><a href="structfilestruc.html#a89706d92c3d0c5fb7a38195677b34625">filestruc::size</a></div><div class="ttdeci">off_t size</div><div class="ttdef"><b>Definition:</b> datadef.h:59</div></div>
<div class="ttc" id="structfilestruc_html_aa98a521711bece55e8541802d8eadf9d"><div class="ttname"><a href="structfilestruc.html#aa98a521711bece55e8541802d8eadf9d">filestruc::year</a></div><div class="ttdeci">uint16_t year</div><div class="ttdef"><b>Definition:</b> datadef.h:60</div></div>
<div class="ttc" id="structfilestruc_html_a19ec675569296f21986e6ee950e7a397"><div class="ttname"><a href="structfilestruc.html#a19ec675569296f21986e6ee950e7a397">filestruc::seconds</a></div><div class="ttdeci">uint32_t seconds</div><div class="ttdef"><b>Definition:</b> datadef.h:62</div></div>
<div class="ttc" id="dirent_8c_html_ac0258906f9453b8abf03e945aa9c9676"><div class="ttname"><a href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a></div><div class="ttdeci">int closedir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:74</div></div>
<div class="ttc" id="rw__test_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="structfilestruc_html_a8f954826e9466a99e6474513240efc41"><div class="ttname"><a href="structfilestruc.html#a8f954826e9466a99e6474513240efc41">filestruc::node</a></div><div class="ttdeci">string node</div><div class="ttdef"><b>Definition:</b> datadef.h:54</div></div>
<div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="struct_d_i_r_html"><div class="ttname"><a href="struct_d_i_r.html">DIR</a></div><div class="ttdef"><b>Definition:</b> dirent.c:24</div></div>
<div class="ttc" id="structfilestruc_html_a5982add71c3f41449c4b70f0f2e63946"><div class="ttname"><a href="structfilestruc.html#a5982add71c3f41449c4b70f0f2e63946">filestruc::utc</a></div><div class="ttdeci">double utc</div><div class="ttdef"><b>Definition:</b> datadef.h:63</div></div>
<div class="ttc" id="structdirent_html"><div class="ttname"><a href="structdirent.html">dirent</a></div><div class="ttdef"><b>Definition:</b> dirent.h:21</div></div>
<div class="ttc" id="dirent_8c_html_a1632d8c06c14f295c6d9407b7fec67af"><div class="ttname"><a href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a></div><div class="ttdeci">DIR * opendir(const char *name)</div><div class="ttdef"><b>Definition:</b> dirent.c:32</div></div>
<div class="ttc" id="dirent_8c_html_ae4d263c5a1d3825c9511a898762513b2"><div class="ttname"><a href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a></div><div class="ttdeci">struct dirent * readdir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:97</div></div>
<div class="ttc" id="structfilestruc_html"><div class="ttname"><a href="structfilestruc.html">filestruc</a></div><div class="ttdef"><b>Definition:</b> datadef.h:52</div></div>
<div class="ttc" id="structfilestruc_html_a758a1472deec19178fee0747ed6671a3"><div class="ttname"><a href="structfilestruc.html#a758a1472deec19178fee0747ed6671a3">filestruc::path</a></div><div class="ttdeci">string path</div><div class="ttdef"><b>Definition:</b> datadef.h:58</div></div>
<div class="ttc" id="structdirent_html_ab703007dd91aa1f311cf0fc85268b2e1"><div class="ttname"><a href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">dirent::d_name</a></div><div class="ttdeci">char * d_name</div><div class="ttdef"><b>Definition:</b> dirent.h:23</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="group__timelib__functions_html_ga710482e26d7363e9990468c4b213e618"><div class="ttname"><a href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a></div><div class="ttdeci">double cal2mjd(int32_t year, int32_t month, int32_t day, int32_t hour, int32_t minute, int32_t second, int32_t nsecond)</div><div class="ttdoc">Calendar representation to Modified Julian Day - full. </div><div class="ttdef"><b>Definition:</b> timelib.cpp:294</div></div>
<div class="ttc" id="datalib_8cpp_html_a83d95e86842d558985aa9da65e056eba"><div class="ttname"><a href="datalib_8cpp.html#a83d95e86842d558985aa9da65e056eba">S_ISDIR</a></div><div class="ttdeci">#define S_ISDIR(ST_MODE)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:56</div></div>
<div class="ttc" id="structfilestruc_html_a3e84bd39ca570e4a7070658abee7db6b"><div class="ttname"><a href="structfilestruc.html#a3e84bd39ca570e4a7070658abee7db6b">filestruc::jday</a></div><div class="ttdeci">uint16_t jday</div><div class="ttdef"><b>Definition:</b> datadef.h:61</div></div>
<div class="ttc" id="group__datalib__functions_html_ga1a65b48e2eacca665ddabaf84789ddd0"><div class="ttname"><a href="group__datalib__functions.html#ga1a65b48e2eacca665ddabaf84789ddd0">data_archive_path</a></div><div class="ttdeci">string data_archive_path(string node, string agent, double mjd)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:871</div></div>
<div class="ttc" id="structfilestruc_html_af03eb2b3ad8bb133b0dae883ec6e21c1"><div class="ttname"><a href="structfilestruc.html#af03eb2b3ad8bb133b0dae883ec6e21c1">filestruc::agent</a></div><div class="ttdeci">string agent</div><div class="ttdef"><b>Definition:</b> datadef.h:55</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
<div class="ttc" id="group__datalib__functions_html_ga3a49fa31fb5680e8cdc6ef230cfe1ccf"><div class="ttname"><a href="group__datalib__functions.html#ga3a49fa31fb5680e8cdc6ef230cfe1ccf">data_name_date</a></div><div class="ttdeci">int32_t data_name_date(string node, string filename, uint16_t &amp;year, uint16_t &amp;jday, uint32_t &amp;seconds)</div><div class="ttdoc">Get date from file name. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:722</div></div>
<div class="ttc" id="structfilestruc_html_afc3db89dbf30fefd06591f6ac13218b5"><div class="ttname"><a href="structfilestruc.html#afc3db89dbf30fefd06591f6ac13218b5">filestruc::type</a></div><div class="ttdeci">string type</div><div class="ttdef"><b>Definition:</b> datadef.h:57</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1575fa2e6ef9f95e9b471a8d6f601310"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt; data_list_archive </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>utc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__datalib__functions.html#gaaf00a4557c26fd8f628b8338d6b52ee2">data_list_archive</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, utc, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaaf00a4557c26fd8f628b8338d6b52ee2"><div class="ttname"><a href="group__datalib__functions.html#gaaf00a4557c26fd8f628b8338d6b52ee2">data_list_archive</a></div><div class="ttdeci">vector&lt; filestruc &gt; data_list_archive(string node, string agent, double utc, string type)</div><div class="ttdoc">Get a list of files in a Node archive. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:385</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae39f5af9321411a7f5bc6b8cb4e3a9c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt; data_list_files </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>directory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of files in a directory, directly. </p>
<p>Generate a list of files for the indicated directory. The result is returned as a vector of <a class="el" href="structfilestruc.html">filestruc</a>, one entry for each file found. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directory</td><td>Directory to search. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A C++ vector of <a class="el" href="structfilestruc.html">filestruc</a>. Zero size if no files are found. </dd></dl>
<div class="fragment"><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;{</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    vector&lt;filestruc&gt; files;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="group__datalib__functions.html#gae39f5af9321411a7f5bc6b8cb4e3a9c3">data_list_files</a>(directory, files);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">return</span> files;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gae39f5af9321411a7f5bc6b8cb4e3a9c3"><div class="ttname"><a href="group__datalib__functions.html#gae39f5af9321411a7f5bc6b8cb4e3a9c3">data_list_files</a></div><div class="ttdeci">vector&lt; filestruc &gt; data_list_files(string directory)</div><div class="ttdoc">Get list of files in a directory, directly. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:461</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gac568aabd84c01e304bbf707c62f95235"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t data_list_files </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>files</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of files in a directory, indirectly. </p>
<p>Generate a list of files for the indicated directory. The result is returned as a vector of <a class="el" href="structfilestruc.html">filestruc</a>, one entry for each file found. Repeated calls to this function will append entries. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directory</td><td>Directory to search. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of files found, otherwise negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;{</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="struct_d_i_r.html">DIR</a> *jdp;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdirent.html">dirent</a> *td;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="structfilestruc.html">filestruc</a> tf;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    tf.<a class="code" href="structfilestruc.html#a8f954826e9466a99e6474513240efc41">node</a> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    tf.<a class="code" href="structfilestruc.html#af03eb2b3ad8bb133b0dae883ec6e21c1">agent</a> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span> ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(directory.c_str())) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                tf.<a class="code" href="structfilestruc.html#ac3035e75c170b64a1a933f525e6b182c">name</a> = td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                tf.<a class="code" href="structfilestruc.html#a758a1472deec19178fee0747ed6671a3">path</a> = directory + <span class="stringliteral">&quot;/&quot;</span> + tf.<a class="code" href="structfilestruc.html#ac3035e75c170b64a1a933f525e6b182c">name</a>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                vector &lt;string&gt; parts = <a class="code" href="group__stringlib__functions.html#ga58d136777ab8dbb7bcdcd6012f376994">string_split</a>(directory, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                <span class="keywordflow">if</span> (parts.size() &gt; 2)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                    tf.<a class="code" href="structfilestruc.html#af03eb2b3ad8bb133b0dae883ec6e21c1">agent</a> = parts[parts.size()-1];</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                    tf.<a class="code" href="structfilestruc.html#a8f954826e9466a99e6474513240efc41">node</a> = parts[parts.size()-3];</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                stat(tf.<a class="code" href="structfilestruc.html#a758a1472deec19178fee0747ed6671a3">path</a>.c_str(), &amp;st);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                tf.<a class="code" href="structfilestruc.html#a89706d92c3d0c5fb7a38195677b34625">size</a> = st.st_size;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                tf.<a class="code" href="structfilestruc.html#a5982add71c3f41449c4b70f0f2e63946">utc</a> = <a class="code" href="group__timelib__functions.html#gaaa9c8a2a477eaede5dd31f0681ccf05a">unix2utc</a>((<span class="keywordtype">double</span>)st.st_ctime);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="datalib_8cpp.html#a83d95e86842d558985aa9da65e056eba">S_ISDIR</a>(st.st_mode))</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                    tf.<a class="code" href="structfilestruc.html#afc3db89dbf30fefd06591f6ac13218b5">type</a> = <span class="stringliteral">&quot;directory&quot;</span>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=strlen(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>)-1; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;strlen(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>); --<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                        <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                        {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                            tf.<a class="code" href="structfilestruc.html#afc3db89dbf30fefd06591f6ac13218b5">type</a> = &amp;td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>+1];</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                        }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                files.push_back(tf);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=files.size()-1; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&gt;1; --<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                    <span class="keywordflow">if</span> (files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a> &lt; files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>-1].<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>)</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                        <a class="code" href="structfilestruc.html">filestruc</a> tfile = files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>-1];</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                        files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>-1] = files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                        files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] = tfile;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> files.size();</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div><div class="ttc" id="structfilestruc_html_ac3035e75c170b64a1a933f525e6b182c"><div class="ttname"><a href="structfilestruc.html#ac3035e75c170b64a1a933f525e6b182c">filestruc::name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> datadef.h:56</div></div>
<div class="ttc" id="structfilestruc_html_a89706d92c3d0c5fb7a38195677b34625"><div class="ttname"><a href="structfilestruc.html#a89706d92c3d0c5fb7a38195677b34625">filestruc::size</a></div><div class="ttdeci">off_t size</div><div class="ttdef"><b>Definition:</b> datadef.h:59</div></div>
<div class="ttc" id="dirent_8c_html_ac0258906f9453b8abf03e945aa9c9676"><div class="ttname"><a href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a></div><div class="ttdeci">int closedir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:74</div></div>
<div class="ttc" id="rw__test_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="structfilestruc_html_a8f954826e9466a99e6474513240efc41"><div class="ttname"><a href="structfilestruc.html#a8f954826e9466a99e6474513240efc41">filestruc::node</a></div><div class="ttdeci">string node</div><div class="ttdef"><b>Definition:</b> datadef.h:54</div></div>
<div class="ttc" id="struct_d_i_r_html"><div class="ttname"><a href="struct_d_i_r.html">DIR</a></div><div class="ttdef"><b>Definition:</b> dirent.c:24</div></div>
<div class="ttc" id="group__timelib__functions_html_gaaa9c8a2a477eaede5dd31f0681ccf05a"><div class="ttname"><a href="group__timelib__functions.html#gaaa9c8a2a477eaede5dd31f0681ccf05a">unix2utc</a></div><div class="ttdeci">double unix2utc(struct timeval unixtime)</div><div class="ttdoc">Unix time to UTC. </div><div class="ttdef"><b>Definition:</b> timelib.cpp:120</div></div>
<div class="ttc" id="structfilestruc_html_a5982add71c3f41449c4b70f0f2e63946"><div class="ttname"><a href="structfilestruc.html#a5982add71c3f41449c4b70f0f2e63946">filestruc::utc</a></div><div class="ttdeci">double utc</div><div class="ttdef"><b>Definition:</b> datadef.h:63</div></div>
<div class="ttc" id="structdirent_html"><div class="ttname"><a href="structdirent.html">dirent</a></div><div class="ttdef"><b>Definition:</b> dirent.h:21</div></div>
<div class="ttc" id="dirent_8c_html_a1632d8c06c14f295c6d9407b7fec67af"><div class="ttname"><a href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a></div><div class="ttdeci">DIR * opendir(const char *name)</div><div class="ttdef"><b>Definition:</b> dirent.c:32</div></div>
<div class="ttc" id="dirent_8c_html_ae4d263c5a1d3825c9511a898762513b2"><div class="ttname"><a href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a></div><div class="ttdeci">struct dirent * readdir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:97</div></div>
<div class="ttc" id="structfilestruc_html"><div class="ttname"><a href="structfilestruc.html">filestruc</a></div><div class="ttdef"><b>Definition:</b> datadef.h:52</div></div>
<div class="ttc" id="structfilestruc_html_a758a1472deec19178fee0747ed6671a3"><div class="ttname"><a href="structfilestruc.html#a758a1472deec19178fee0747ed6671a3">filestruc::path</a></div><div class="ttdeci">string path</div><div class="ttdef"><b>Definition:</b> datadef.h:58</div></div>
<div class="ttc" id="structdirent_html_ab703007dd91aa1f311cf0fc85268b2e1"><div class="ttname"><a href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">dirent::d_name</a></div><div class="ttdeci">char * d_name</div><div class="ttdef"><b>Definition:</b> dirent.h:23</div></div>
<div class="ttc" id="cubesat2obj_8cpp_html_a8ccf841cb59e451791bcb2e1ac4f1edc"><div class="ttname"><a href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> cubesat2obj.cpp:6</div></div>
<div class="ttc" id="datalib_8cpp_html_a83d95e86842d558985aa9da65e056eba"><div class="ttname"><a href="datalib_8cpp.html#a83d95e86842d558985aa9da65e056eba">S_ISDIR</a></div><div class="ttdeci">#define S_ISDIR(ST_MODE)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:56</div></div>
<div class="ttc" id="structfilestruc_html_af03eb2b3ad8bb133b0dae883ec6e21c1"><div class="ttname"><a href="structfilestruc.html#af03eb2b3ad8bb133b0dae883ec6e21c1">filestruc::agent</a></div><div class="ttdeci">string agent</div><div class="ttdef"><b>Definition:</b> datadef.h:55</div></div>
<div class="ttc" id="structfilestruc_html_afc3db89dbf30fefd06591f6ac13218b5"><div class="ttname"><a href="structfilestruc.html#afc3db89dbf30fefd06591f6ac13218b5">filestruc::type</a></div><div class="ttdeci">string type</div><div class="ttdef"><b>Definition:</b> datadef.h:57</div></div>
<div class="ttc" id="group__stringlib__functions_html_ga58d136777ab8dbb7bcdcd6012f376994"><div class="ttname"><a href="group__stringlib__functions.html#ga58d136777ab8dbb7bcdcd6012f376994">string_split</a></div><div class="ttdeci">vector&lt; string &gt; string_split(string in, string delimeters)</div><div class="ttdoc">Parse a string. </div><div class="ttdef"><b>Definition:</b> stringlib.cpp:47</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf1b8541e42addb748a4b4da28d5f8d2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt; data_list_files </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of files in a Node, directly. </p>
<p>Generate a list of files for the indicated Node, location (eg. incoming, outgoing, ...), and Agent. The result is returned as a vector of <a class="el" href="structfilestruc.html">filestruc</a>, one entry for each file found. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node to search. </td></tr>
    <tr><td class="paramname">location</td><td>Subdirectory of Node to search. </td></tr>
    <tr><td class="paramname">agent</td><td>Subdirectory of location to search. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A C++ vector of <a class="el" href="structfilestruc.html">filestruc</a>. Zero size if no files are found. </dd></dl>
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    vector&lt;filestruc&gt; files;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="group__datalib__functions.html#gae39f5af9321411a7f5bc6b8cb4e3a9c3">data_list_files</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, location, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, files);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">return</span> files;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gae39f5af9321411a7f5bc6b8cb4e3a9c3"><div class="ttname"><a href="group__datalib__functions.html#gae39f5af9321411a7f5bc6b8cb4e3a9c3">data_list_files</a></div><div class="ttdeci">vector&lt; filestruc &gt; data_list_files(string directory)</div><div class="ttdoc">Get list of files in a directory, directly. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:461</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga544b5a8d8051753f852561fa5e628bda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t data_list_files </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; <a class="el" href="structfilestruc.html">filestruc</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>files</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of files in a Node, indirectly. </p>
<p>Generate a list of files for the indicated Node, location (eg. incoming, outgoing, ...), and Agent. The result is returned as a vector of <a class="el" href="structfilestruc.html">filestruc</a>, one entry for each file found. Repeated calls to this function will append entries. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node to search. </td></tr>
    <tr><td class="paramname">location</td><td>Subdirectory of Node to search. </td></tr>
    <tr><td class="paramname">agent</td><td>Subdirectory of location to search. </td></tr>
    <tr><td class="paramname">files</td><td>List of <a class="el" href="structfilestruc.html">filestruc</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of files found, otherwise negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;{</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordtype">string</span> dtemp;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    dtemp = <a class="code" href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, location, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">//    size_t fcnt = files.size();</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="group__datalib__functions.html#gae39f5af9321411a7f5bc6b8cb4e3a9c3">data_list_files</a>(dtemp, files);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">//    for (size_t i=fcnt; i&lt;files.size(); ++i)</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">//    {</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">//        files[i].agent = agent;</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">//        files[i].node = node;</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">return</span> (files.size());</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gae39f5af9321411a7f5bc6b8cb4e3a9c3"><div class="ttname"><a href="group__datalib__functions.html#gae39f5af9321411a7f5bc6b8cb4e3a9c3">data_list_files</a></div><div class="ttdeci">vector&lt; filestruc &gt; data_list_files(string directory)</div><div class="ttdoc">Get list of files in a directory, directly. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:461</div></div>
<div class="ttc" id="group__datalib__functions_html_ga5f1b0c69165fbc05de719787f579cf68"><div class="ttname"><a href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a></div><div class="ttdeci">string data_base_path(string node, string location, string agent, string filename)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:767</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa93b79ce68d6d33d637837bb5223164a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; string &gt; data_list_nodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of Nodes, directly. </p>
<p>Scan the COSMOS root directory and return the name of each Node that is found. </p><dl class="section return"><dt>Returns</dt><dd>Any Nodes that are found. </dd></dl>
<div class="fragment"><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    vector&lt;string&gt; <a class="code" href="agent__data_8cpp.html#aebf0188d68a3040d593fc1727b58cb49">nodes</a>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="group__datalib__functions.html#gaa93b79ce68d6d33d637837bb5223164a">data_list_nodes</a>(nodes);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="agent__data_8cpp.html#aebf0188d68a3040d593fc1727b58cb49">nodes</a>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaa93b79ce68d6d33d637837bb5223164a"><div class="ttname"><a href="group__datalib__functions.html#gaa93b79ce68d6d33d637837bb5223164a">data_list_nodes</a></div><div class="ttdeci">vector&lt; string &gt; data_list_nodes()</div><div class="ttdoc">Get list of Nodes, directly. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:583</div></div>
<div class="ttc" id="agent__data_8cpp_html_aebf0188d68a3040d593fc1727b58cb49"><div class="ttname"><a href="agent__data_8cpp.html#aebf0188d68a3040d593fc1727b58cb49">nodes</a></div><div class="ttdeci">std::vector&lt; cosmosstruc &gt; nodes</div><div class="ttdef"><b>Definition:</b> agent_data.cpp:57</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga14ccb20259f177bc61ab4813c85b263c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t data_list_nodes </td>
          <td>(</td>
          <td class="paramtype">vector&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of Nodes, indirectly. </p>
<p>Scan the COSMOS root directory and return the name of each Node that is found. Repeated calls to this function will append entries. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nodes</td><td>Vector of strings with Node names. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="struct_d_i_r.html">DIR</a> *jdp;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordtype">string</span> dtemp;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordtype">string</span> rootd;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdirent.html">dirent</a> *td;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordtype">string</span> tnode;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">//    struct stat statbuf;</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a> = <a class="code" href="group__datalib__functions.html#ga33ad16ae49ca7da3fc6976f81f041613">get_cosmosnodes</a>(rootd);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (iretn &lt; 0)</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    dtemp = rootd;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">if</span> ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(dtemp.c_str())) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <span class="comment">//            if (td-&gt;d_name[0] != &#39;.&#39; &amp;&amp; !stat(((dtemp+&quot;/&quot;)+td-&gt;d_name).c_str(), &amp;statbuf) &amp;&amp; S_ISDIR(statbuf.st_mode))</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span> &amp;&amp; <a class="code" href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a>((dtemp+<span class="stringliteral">&quot;/&quot;</span>)+td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>))</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                tnode = td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                <a class="code" href="agent__data_8cpp.html#aebf0188d68a3040d593fc1727b58cb49">nodes</a>.push_back(tnode);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div><div class="ttc" id="dirent_8c_html_ac0258906f9453b8abf03e945aa9c9676"><div class="ttname"><a href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a></div><div class="ttdeci">int closedir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:74</div></div>
<div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="struct_d_i_r_html"><div class="ttname"><a href="struct_d_i_r.html">DIR</a></div><div class="ttdef"><b>Definition:</b> dirent.c:24</div></div>
<div class="ttc" id="structdirent_html"><div class="ttname"><a href="structdirent.html">dirent</a></div><div class="ttdef"><b>Definition:</b> dirent.h:21</div></div>
<div class="ttc" id="dirent_8c_html_a1632d8c06c14f295c6d9407b7fec67af"><div class="ttname"><a href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a></div><div class="ttdeci">DIR * opendir(const char *name)</div><div class="ttdef"><b>Definition:</b> dirent.c:32</div></div>
<div class="ttc" id="dirent_8c_html_ae4d263c5a1d3825c9511a898762513b2"><div class="ttname"><a href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a></div><div class="ttdeci">struct dirent * readdir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:97</div></div>
<div class="ttc" id="group__datalib__functions_html_ga33ad16ae49ca7da3fc6976f81f041613"><div class="ttname"><a href="group__datalib__functions.html#ga33ad16ae49ca7da3fc6976f81f041613">get_cosmosnodes</a></div><div class="ttdeci">string get_cosmosnodes(bool create_flag)</div><div class="ttdoc">Return COSMOS Nodes Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1532</div></div>
<div class="ttc" id="structdirent_html_ab703007dd91aa1f311cf0fc85268b2e1"><div class="ttname"><a href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">dirent::d_name</a></div><div class="ttdeci">char * d_name</div><div class="ttdef"><b>Definition:</b> dirent.h:23</div></div>
<div class="ttc" id="group__datalib__functions_html_ga6bc39454c39861b4db8d540109f0c501"><div class="ttname"><a href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a></div><div class="ttdeci">bool data_isdir(string path)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:1865</div></div>
<div class="ttc" id="agent__data_8cpp_html_aebf0188d68a3040d593fc1727b58cb49"><div class="ttname"><a href="agent__data_8cpp.html#aebf0188d68a3040d593fc1727b58cb49">nodes</a></div><div class="ttdeci">std::vector&lt; cosmosstruc &gt; nodes</div><div class="ttdef"><b>Definition:</b> agent_data.cpp:57</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae50d2ee38742b131dae8a90e75f29c7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t data_get_nodes </td>
          <td>(</td>
          <td class="paramtype">vector&lt; <a class="el" href="structcosmosstruc.html">cosmosstruc</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get vector of Node structures. </p>
<p>Scan the COSMOS root directory and return a <a class="el" href="structcosmosstruc.html" title="JSON Name Space structure. ">cosmosstruc</a> for each Node that is found. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Vector of <a class="el" href="structcosmosstruc.html" title="JSON Name Space structure. ">cosmosstruc</a> for each Node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;{</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <a class="code" href="struct_d_i_r.html">DIR</a> *jdp;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordtype">string</span> dtemp;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordtype">string</span> rootd;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdirent.html">dirent</a> *td;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="structcosmosstruc.html">cosmosstruc</a> *tnode;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a> = <a class="code" href="group__datalib__functions.html#ga33ad16ae49ca7da3fc6976f81f041613">get_cosmosnodes</a>(rootd);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">if</span> (iretn &lt; 0)</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> ((tnode=<a class="code" href="group__jsonlib__functions.html#ga5a7e4451ba0775ac2664ad87186b4fd2">json_init</a>()) == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="group__error__defines.html#ga825287991d96dc2f281b909cafc60c43">NODE_ERROR_NODE</a>);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    dtemp = rootd;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span> ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(dtemp.c_str())) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                <span class="keywordtype">string</span> nodepath = td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="group__jsonlib__functions.html#ga49c99860b3f8d4265436287acd2527ca">json_setup_node</a>(nodepath, tnode))</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    <a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>.push_back(*tnode);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div><div class="ttc" id="dirent_8c_html_ac0258906f9453b8abf03e945aa9c9676"><div class="ttname"><a href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a></div><div class="ttdeci">int closedir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:74</div></div>
<div class="ttc" id="group__jsonlib__functions_html_ga49c99860b3f8d4265436287acd2527ca"><div class="ttname"><a href="group__jsonlib__functions.html#ga49c99860b3f8d4265436287acd2527ca">json_setup_node</a></div><div class="ttdeci">int32_t json_setup_node(jsonnode json, cosmosstruc *cinfo, bool create_flag)</div><div class="ttdoc">Setup JSON Namespace using Node description JSON. </div><div class="ttdef"><b>Definition:</b> jsonlib.cpp:7233</div></div>
<div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="struct_d_i_r_html"><div class="ttname"><a href="struct_d_i_r.html">DIR</a></div><div class="ttdef"><b>Definition:</b> dirent.c:24</div></div>
<div class="ttc" id="group__jsonlib__functions_html_ga5a7e4451ba0775ac2664ad87186b4fd2"><div class="ttname"><a href="group__jsonlib__functions.html#ga5a7e4451ba0775ac2664ad87186b4fd2">json_init</a></div><div class="ttdeci">cosmosstruc * json_init()</div><div class="ttdoc">Initialize JSON pointer map. </div><div class="ttdef"><b>Definition:</b> jsonlib.cpp:89</div></div>
<div class="ttc" id="structdirent_html"><div class="ttname"><a href="structdirent.html">dirent</a></div><div class="ttdef"><b>Definition:</b> dirent.h:21</div></div>
<div class="ttc" id="dirent_8c_html_a1632d8c06c14f295c6d9407b7fec67af"><div class="ttname"><a href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a></div><div class="ttdeci">DIR * opendir(const char *name)</div><div class="ttdef"><b>Definition:</b> dirent.c:32</div></div>
<div class="ttc" id="dirent_8c_html_ae4d263c5a1d3825c9511a898762513b2"><div class="ttname"><a href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a></div><div class="ttdeci">struct dirent * readdir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:97</div></div>
<div class="ttc" id="group__datalib__functions_html_ga33ad16ae49ca7da3fc6976f81f041613"><div class="ttname"><a href="group__datalib__functions.html#ga33ad16ae49ca7da3fc6976f81f041613">get_cosmosnodes</a></div><div class="ttdeci">string get_cosmosnodes(bool create_flag)</div><div class="ttdoc">Return COSMOS Nodes Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1532</div></div>
<div class="ttc" id="structdirent_html_ab703007dd91aa1f311cf0fc85268b2e1"><div class="ttname"><a href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">dirent::d_name</a></div><div class="ttdeci">char * d_name</div><div class="ttdef"><b>Definition:</b> dirent.h:23</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
<div class="ttc" id="structcosmosstruc_html"><div class="ttname"><a href="structcosmosstruc.html">cosmosstruc</a></div><div class="ttdoc">JSON Name Space structure. </div><div class="ttdef"><b>Definition:</b> jsondef.h:1995</div></div>
<div class="ttc" id="group__error__defines_html_ga825287991d96dc2f281b909cafc60c43"><div class="ttname"><a href="group__error__defines.html#ga825287991d96dc2f281b909cafc60c43">NODE_ERROR_NODE</a></div><div class="ttdeci">#define NODE_ERROR_NODE</div><div class="ttdef"><b>Definition:</b> cosmos-errno.h:143</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga96783d5bc7fa817776ab68d2d9df86cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_name </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mjd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>extra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create data file name. </p>
<p>Builds a filename up from the date of creation and its type. Format is: yyyyjjjsssss_extra.type, where yyyy is the Year, jjj is the Julian Day, sssss is the Seconds, and type is any accepted COSMOS file type (eg. log, event, telemetry, message, command.) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node name. </td></tr>
    <tr><td class="paramname">mjd</td><td>UTC of creation date in Modified Julian Day </td></tr>
    <tr><td class="paramname">extra</td><td>Extra part of file name. </td></tr>
    <tr><td class="paramname">type</td><td>Any valid extension type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Filename string, otherwise nullptr </dd></dl>
<div class="fragment"><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;{</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordtype">string</span> <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordtype">char</span> ntemp[100];</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordtype">int</span> year, month, seconds;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordtype">double</span> jday, day;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="group__timelib__functions.html#ga2542e9bb44fb032bb34866d0d09f8cfc">mjd2ymd</a>(<a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>,year,month,day,jday);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    seconds = (int)(86400.*(jday-(<span class="keywordtype">int</span>)jday));</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    sprintf(ntemp,<span class="stringliteral">&quot;_%04d%03d%05d&quot;</span>,year,(int32_t)jday,seconds);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (extra.empty())</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        name = <a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a> + ntemp + <span class="stringliteral">&quot;.&quot;</span> + type;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        name = <a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a> + ntemp + <span class="stringliteral">&quot;_&quot;</span> + extra + <span class="stringliteral">&quot;.&quot;</span> + type;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> (name);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div><div class="ttc" id="group__timelib__functions_html_ga2542e9bb44fb032bb34866d0d09f8cfc"><div class="ttname"><a href="group__timelib__functions.html#ga2542e9bb44fb032bb34866d0d09f8cfc">mjd2ymd</a></div><div class="ttdeci">int32_t mjd2ymd(double mjd, int32_t &amp;year, int32_t &amp;month, double &amp;day)</div><div class="ttdoc">MJD to Year, Month, and Decimal Day (overloaded) </div><div class="ttdef"><b>Definition:</b> timelib.cpp:217</div></div>
<div class="ttc" id="cubesat2obj_8cpp_html_a8ccf841cb59e451791bcb2e1ac4f1edc"><div class="ttname"><a href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> cubesat2obj.cpp:6</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae36e9c225e093f99de68264412a94847"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_name </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mjd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__datalib__functions.html#ga96783d5bc7fa817776ab68d2d9df86cf">data_name</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, <span class="stringliteral">&quot;&quot;</span>, type);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga96783d5bc7fa817776ab68d2d9df86cf"><div class="ttname"><a href="group__datalib__functions.html#ga96783d5bc7fa817776ab68d2d9df86cf">data_name</a></div><div class="ttdeci">string data_name(string node, double mjd, string extra, string type)</div><div class="ttdoc">Create data file name. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:685</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3a49fa31fb5680e8cdc6ef230cfe1ccf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t data_name_date </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t &amp;&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t &amp;&#160;</td>
          <td class="paramname"><em>jday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>seconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get date from file name. </p>
<p>Assuming the COSMOS standard filename format from <a class="el" href="group__datalib__functions.html#ga96783d5bc7fa817776ab68d2d9df86cf" title="Create data file name. ">data_name</a>, extract the date portion and return it as year, julian day and seconds. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Name of Node. </td></tr>
    <tr><td class="paramname">filename</td><td>Name of File. </td></tr>
    <tr><td class="paramname">year</td><td>Holder for integer year. </td></tr>
    <tr><td class="paramname">jday</td><td>Holder for integer julian day. </td></tr>
    <tr><td class="paramname">seconds</td><td>Holder for integer julian seconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;{</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span> (sscanf(filename.substr(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>.size()+1).c_str(), <span class="stringliteral">&quot;%4&quot;</span> SCNu16 <span class="stringliteral">&quot;%3&quot;</span> SCNu16 <span class="stringliteral">&quot;%5&quot;</span> SCNu32 <span class="stringliteral">&quot;&quot;</span>, &amp;year, &amp;jday, &amp;seconds) == 3 &amp;&amp; seconds &lt; 86400 &amp;&amp; jday &lt; 367)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__error__defines.html#gaa16b6f3b8f8b535115f66455d6506fdb">DATA_ERROR_FORMAT</a>;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div><div class="ttc" id="group__error__defines_html_gaa16b6f3b8f8b535115f66455d6506fdb"><div class="ttname"><a href="group__error__defines.html#gaa16b6f3b8f8b535115f66455d6506fdb">DATA_ERROR_FORMAT</a></div><div class="ttdeci">#define DATA_ERROR_FORMAT</div><div class="ttdef"><b>Definition:</b> cosmos-errno.h:152</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1920685876f702efe360c11c6b3dc32d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t data_name_date </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>utc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get date from file name. </p>
<p>Assuming the COSMOS standard filename format from <a class="el" href="group__datalib__functions.html#ga96783d5bc7fa817776ab68d2d9df86cf" title="Create data file name. ">data_name</a>, extract the date portion and return it as a Modified Julian Day. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Name of Node. </td></tr>
    <tr><td class="paramname">filename</td><td>Name of File. </td></tr>
    <tr><td class="paramname">utc</td><td>Holder for returned utc. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;{</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    uint16_t year;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    uint16_t jday;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    uint32_t seconds;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a> = <a class="code" href="group__datalib__functions.html#ga3a49fa31fb5680e8cdc6ef230cfe1ccf">data_name_date</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, filename, year, jday, seconds);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (!iretn)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        utc = <a class="code" href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a>(year, 1, seconds/86400.) + jday;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__timelib__functions_html_ga710482e26d7363e9990468c4b213e618"><div class="ttname"><a href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a></div><div class="ttdeci">double cal2mjd(int32_t year, int32_t month, int32_t day, int32_t hour, int32_t minute, int32_t second, int32_t nsecond)</div><div class="ttdoc">Calendar representation to Modified Julian Day - full. </div><div class="ttdef"><b>Definition:</b> timelib.cpp:294</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
<div class="ttc" id="group__datalib__functions_html_ga3a49fa31fb5680e8cdc6ef230cfe1ccf"><div class="ttname"><a href="group__datalib__functions.html#ga3a49fa31fb5680e8cdc6ef230cfe1ccf">data_name_date</a></div><div class="ttdeci">int32_t data_name_date(string node, string filename, uint16_t &amp;year, uint16_t &amp;jday, uint32_t &amp;seconds)</div><div class="ttdoc">Get date from file name. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:722</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5f1b0c69165fbc05de719787f579cf68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_base_path </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create data file path. </p>
<p>Create a full path to the named file based on the provided information. The path will be of the form {cosmosnodes}/{node}/{location}/{agent}/{filename}, or in the case of a "data" location, {cosmosnodes}/{node}/{location}/{agent}/{yyyy}/{jjj}/{filename}. If {cosmosnodes} is not defined, or cannot be found, it will be left blank. </p>
<div class="fragment"><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordtype">string</span> path;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordtype">string</span> tpath;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    tpath = <a class="code" href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, location, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">if</span> (!tpath.empty())</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">if</span> (location == <span class="stringliteral">&quot;data&quot;</span>)</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            uint16_t year;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            uint16_t jday;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            uint32_t seconds;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a> = <a class="code" href="group__datalib__functions.html#ga3a49fa31fb5680e8cdc6ef230cfe1ccf">data_name_date</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, filename, year, jday, seconds);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="keywordflow">if</span> (!iretn)</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <span class="keywordtype">char</span> tbuf[10];</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                sprintf(tbuf, <span class="stringliteral">&quot;/%04u&quot;</span>, year);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                tpath += tbuf;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                <span class="keywordflow">if</span> (COSMOS_MKDIR(tpath.c_str(),00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                    sprintf(tbuf, <span class="stringliteral">&quot;/%03u&quot;</span>, jday);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    tpath += tbuf;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                    <span class="keywordflow">if</span> (COSMOS_MKDIR(tpath.c_str(),00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                        path = tpath;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            path = tpath;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        path += <span class="stringliteral">&quot;/&quot;</span> + filename;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__functions_html_ga5f1b0c69165fbc05de719787f579cf68"><div class="ttname"><a href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a></div><div class="ttdeci">string data_base_path(string node, string location, string agent, string filename)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:767</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
<div class="ttc" id="group__datalib__functions_html_ga3a49fa31fb5680e8cdc6ef230cfe1ccf"><div class="ttname"><a href="group__datalib__functions.html#ga3a49fa31fb5680e8cdc6ef230cfe1ccf">data_name_date</a></div><div class="ttdeci">int32_t data_name_date(string node, string filename, uint16_t &amp;year, uint16_t &amp;jday, uint32_t &amp;seconds)</div><div class="ttdoc">Get date from file name. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:722</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga0a2619848e0ca54e051d7b84a1b6d5c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_base_path </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;{</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordtype">string</span> tpath;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordtype">string</span> path;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    tpath = <a class="code" href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, location);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (!tpath.empty())</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>.empty())</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            path = tpath;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            tpath += <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            <span class="keywordflow">if</span> (COSMOS_MKDIR(tpath.c_str(),00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                path = tpath;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga5f1b0c69165fbc05de719787f579cf68"><div class="ttname"><a href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a></div><div class="ttdeci">string data_base_path(string node, string location, string agent, string filename)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:767</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga2dbc07b0dead4c0bac6bfc429f014417"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_base_path </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;{</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordtype">string</span> tpath;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordtype">string</span> path;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    tpath = <a class="code" href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">if</span> (!tpath.empty())</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        tpath += <span class="stringliteral">&quot;/&quot;</span> + location;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">if</span> (COSMOS_MKDIR(tpath.c_str(),00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            path = tpath;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga5f1b0c69165fbc05de719787f579cf68"><div class="ttname"><a href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a></div><div class="ttdeci">string data_base_path(string node, string location, string agent, string filename)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:767</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7cd539ceee0b2732839410e76e1bf092"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_base_path </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordtype">string</span> tpath;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordtype">string</span> path=<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a> = <a class="code" href="group__datalib__functions.html#ga33ad16ae49ca7da3fc6976f81f041613">get_cosmosnodes</a>(tpath);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">if</span> (iretn &gt;= 0)</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        tpath += <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">if</span> (COSMOS_MKDIR(tpath.c_str(),00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            path = tpath;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__functions_html_ga33ad16ae49ca7da3fc6976f81f041613"><div class="ttname"><a href="group__datalib__functions.html#ga33ad16ae49ca7da3fc6976f81f041613">get_cosmosnodes</a></div><div class="ttdeci">string get_cosmosnodes(bool create_flag)</div><div class="ttdoc">Return COSMOS Nodes Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1532</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1a65b48e2eacca665ddabaf84789ddd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_archive_path </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mjd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;{</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordtype">string</span> tpath;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordtype">char</span> ntemp[<a class="code" href="group__defs__storage.html#ga2005202dc256c47dd66042b748fc4dd5">COSMOS_MAX_NAME</a>+1];</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordtype">string</span> path;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    tpath = <a class="code" href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <span class="stringliteral">&quot;data&quot;</span>, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (!tpath.empty())</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordtype">int</span> year, month;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordtype">double</span> jday, day;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <a class="code" href="group__timelib__functions.html#ga2542e9bb44fb032bb34866d0d09f8cfc">mjd2ymd</a>(<a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>,year,month,day,jday);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        sprintf(ntemp, <span class="stringliteral">&quot;/%04d&quot;</span>, year);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        tpath += ntemp;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keywordflow">if</span> (COSMOS_MKDIR(tpath.c_str(),00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            sprintf(ntemp, <span class="stringliteral">&quot;/%03d&quot;</span>, (int32_t)jday);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            tpath += ntemp;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">if</span> (COSMOS_MKDIR(tpath.c_str(),00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                path = tpath;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    }</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;}</div><div class="ttc" id="group__defs__storage_html_ga2005202dc256c47dd66042b748fc4dd5"><div class="ttname"><a href="group__defs__storage.html#ga2005202dc256c47dd66042b748fc4dd5">COSMOS_MAX_NAME</a></div><div class="ttdeci">#define COSMOS_MAX_NAME</div><div class="ttdoc">Largest JSON name. </div><div class="ttdef"><b>Definition:</b> cosmos-defs.h:55</div></div>
<div class="ttc" id="group__datalib__functions_html_ga5f1b0c69165fbc05de719787f579cf68"><div class="ttname"><a href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a></div><div class="ttdeci">string data_base_path(string node, string location, string agent, string filename)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:767</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="group__timelib__functions_html_ga2542e9bb44fb032bb34866d0d09f8cfc"><div class="ttname"><a href="group__timelib__functions.html#ga2542e9bb44fb032bb34866d0d09f8cfc">mjd2ymd</a></div><div class="ttdeci">int32_t mjd2ymd(double mjd, int32_t &amp;year, int32_t &amp;month, double &amp;day)</div><div class="ttdoc">MJD to Year, Month, and Decimal Day (overloaded) </div><div class="ttdef"><b>Definition:</b> timelib.cpp:217</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gade4d81e56aef2cda654079f687269673"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_type_path </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mjd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create data file path. </p>
<p>Build a path to a data file using its filename and the current Node directory. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node directory in <a class="el" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331" title="Path to COSMOS root directory. ">cosmosroot</a>. </td></tr>
    <tr><td class="paramname">location</td><td>Subfolder in Node directory (outgoing, incoming, data, temp). </td></tr>
    <tr><td class="paramname">agent</td><td>Task specific subfolder of location, if relevant </td></tr>
    <tr><td class="paramname">mjd</td><td>UTC of creation date in Modified Julian Day </td></tr>
    <tr><td class="paramname">type</td><td>Any valid extension type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>File path string, otherwise nullptr </dd></dl>
<div class="fragment"><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;{</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordtype">string</span> path;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    path = <a class="code" href="group__datalib__functions.html#gade4d81e56aef2cda654079f687269673">data_type_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, location, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, <span class="stringliteral">&quot;&quot;</span>, type);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">return</span> (path);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gade4d81e56aef2cda654079f687269673"><div class="ttname"><a href="group__datalib__functions.html#gade4d81e56aef2cda654079f687269673">data_type_path</a></div><div class="ttdeci">string data_type_path(string node, string location, string agent, double mjd, string type)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:910</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga26f2d60b4e6d46c899d5b2da7453a2d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_type_path </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mjd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>extra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create data file path. </p>
<p>Build a path to a data file using its filename and the current Node directory. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node directory in <a class="el" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331" title="Path to COSMOS root directory. ">cosmosroot</a>. </td></tr>
    <tr><td class="paramname">location</td><td>Subfolder in Node directory (outgoing, incoming, data, temp). </td></tr>
    <tr><td class="paramname">agent</td><td>Task specific subfolder of location, if relevant </td></tr>
    <tr><td class="paramname">mjd</td><td>UTC of creation date in Modified Julian Day </td></tr>
    <tr><td class="paramname">extra</td><td>Extra text to add to the full name. </td></tr>
    <tr><td class="paramname">type</td><td>Any valid extension type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>File path string, otherwise nullptr </dd></dl>
<div class="fragment"><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;{</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordtype">string</span> path;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordtype">string</span> tpath;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    tpath = <a class="code" href="group__datalib__functions.html#gac57bc06564956d3e3b0ca9669a712ccc">data_name_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, location, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, <a class="code" href="group__datalib__functions.html#ga96783d5bc7fa817776ab68d2d9df86cf">data_name</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, extra, type));</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">if</span> (!tpath.empty())</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        path = tpath;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    }</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga96783d5bc7fa817776ab68d2d9df86cf"><div class="ttname"><a href="group__datalib__functions.html#ga96783d5bc7fa817776ab68d2d9df86cf">data_name</a></div><div class="ttdeci">string data_name(string node, double mjd, string extra, string type)</div><div class="ttdoc">Create data file name. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:685</div></div>
<div class="ttc" id="group__datalib__functions_html_gac57bc06564956d3e3b0ca9669a712ccc"><div class="ttname"><a href="group__datalib__functions.html#gac57bc06564956d3e3b0ca9669a712ccc">data_name_path</a></div><div class="ttdeci">string data_name_path(string node, string location, string agent, double mjd, string name)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:954</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gac57bc06564956d3e3b0ca9669a712ccc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_name_path </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mjd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create data file path. </p>
<p>Build a path to a data file using its filename and the current Node directory. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node directory in <a class="el" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331" title="Path to COSMOS root directory. ">cosmosroot</a>. </td></tr>
    <tr><td class="paramname">location</td><td>Subfolder in Node directory (outgoing, incoming, data, temp). </td></tr>
    <tr><td class="paramname">agent</td><td>Task specific subfolder of location, if relevant </td></tr>
    <tr><td class="paramname">mjd</td><td>UTC of creation date in Modified Julian Day </td></tr>
    <tr><td class="paramname">name</td><td>File name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>File path string, otherwise nullptr </dd></dl>
<div class="fragment"><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;{</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordtype">string</span> path;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordtype">string</span> tpath;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (location == <span class="stringliteral">&quot;data&quot;</span>)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        tpath = <a class="code" href="group__datalib__functions.html#ga1a65b48e2eacca665ddabaf84789ddd0">data_archive_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        tpath = <a class="code" href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, location, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    }</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">if</span> (!tpath.empty())</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        tpath += <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        path = tpath;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    }</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga5f1b0c69165fbc05de719787f579cf68"><div class="ttname"><a href="group__datalib__functions.html#ga5f1b0c69165fbc05de719787f579cf68">data_base_path</a></div><div class="ttdeci">string data_base_path(string node, string location, string agent, string filename)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:767</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="cubesat2obj_8cpp_html_a8ccf841cb59e451791bcb2e1ac4f1edc"><div class="ttname"><a href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> cubesat2obj.cpp:6</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
<div class="ttc" id="group__datalib__functions_html_ga1a65b48e2eacca665ddabaf84789ddd0"><div class="ttname"><a href="group__datalib__functions.html#ga1a65b48e2eacca665ddabaf84789ddd0">data_archive_path</a></div><div class="ttdeci">string data_archive_path(string node, string agent, double mjd)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:871</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab65b54228ed1f3ced4c77ffed2e2e3ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string data_resource_path </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create resource file path. </p>
<p>Build a path to a resource file using its filename and the current resource directory. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>File name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>File path string, otherwise nullptr </dd></dl>
<div class="fragment"><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;{</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordtype">string</span> path;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    path = <a class="code" href="group__datalib__functions.html#ga0ab0e5e717aa450e8d6cdc71958910aa">get_cosmosresources</a>() + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__functions.html#ga9ab746fbf6671c2bc52abba932755c0d">data_isfile</a>(path))</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    {</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    {</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    }</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga0ab0e5e717aa450e8d6cdc71958910aa"><div class="ttname"><a href="group__datalib__functions.html#ga0ab0e5e717aa450e8d6cdc71958910aa">get_cosmosresources</a></div><div class="ttdeci">string get_cosmosresources(bool create_flag)</div><div class="ttdoc">Return COSMOS Resources Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1337</div></div>
<div class="ttc" id="group__datalib__functions_html_ga9ab746fbf6671c2bc52abba932755c0d"><div class="ttname"><a href="group__datalib__functions.html#ga9ab746fbf6671c2bc52abba932755c0d">data_isfile</a></div><div class="ttdeci">bool data_isfile(string path, off_t size)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:1895</div></div>
<div class="ttc" id="cubesat2obj_8cpp_html_a8ccf841cb59e451791bcb2e1ac4f1edc"><div class="ttname"><a href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> cubesat2obj.cpp:6</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga4d422aed1932f3e9395ccc1f5abd283b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool data_exists </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check existence of path. </p>
<p>Check whether a path exists, within the limits of permissions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>string containing full path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE or FALSE </dd></dl>
<div class="fragment"><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;{</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keyword">struct </span>stat <a class="code" href="propagator__simple_8cpp.html#aefc66c7c76cac6590187a1f7afb99cd9">buffer</a>;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">return</span> (stat (path.c_str(), &amp;<a class="code" href="propagator__simple_8cpp.html#aefc66c7c76cac6590187a1f7afb99cd9">buffer</a>) == 0);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div><div class="ttc" id="propagator__simple_8cpp_html_aefc66c7c76cac6590187a1f7afb99cd9"><div class="ttname"><a href="propagator__simple_8cpp.html#aefc66c7c76cac6590187a1f7afb99cd9">buffer</a></div><div class="ttdeci">char buffer[255]</div><div class="ttdef"><b>Definition:</b> propagator_simple.cpp:60</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf677ca2d21cb62742ce3e1c289c428b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE * data_open </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open file from path. </p>
<p>Attempt to open a file with an optional path. If a path is included, each directory element will be created if it is missing. The final file will be opened with the requested mode. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Full path to file, absolute or relative. </td></tr>
    <tr><td class="paramname">mode</td><td>fopen style mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>fopen style file handle, or nullptr if either a directory element can not be created, or the file can not be opened. </dd></dl>
<div class="fragment"><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;{</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordtype">char</span> dtemp[1024];</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    uint32_t index, <a class="code" href="agent__node_8cpp.html#a40b0fee77c8cf6e858b43325031dbf96">dindex</a>, <a class="code" href="png_8c.html#a209c8e470817686b5ca6730db67f8d67">length</a>;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    FILE *tfd;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    length = (uint32_t)path.size();</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">for</span> (dindex=length-1; dindex&lt;<a class="code" href="png_8c.html#a209c8e470817686b5ca6730db67f8d67">length</a>; --<a class="code" href="agent__node_8cpp.html#a40b0fee77c8cf6e858b43325031dbf96">dindex</a>)</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">if</span> (path[dindex] == <span class="charliteral">&#39;/&#39;</span>)</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    }</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">if</span> (dindex &gt; 0 &amp;&amp; dindex &lt; length)</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keywordflow">for</span> (index=1; index&lt;=<a class="code" href="agent__node_8cpp.html#a40b0fee77c8cf6e858b43325031dbf96">dindex</a>; ++index)</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        {</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <span class="keywordflow">if</span> (path[index] == <span class="charliteral">&#39;/&#39;</span>)</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                strncpy(dtemp, path.c_str(), index+1);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                dtemp[index+1] = 0;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                <span class="keywordflow">if</span> (COSMOS_MKDIR(dtemp,00777))</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                    <span class="keywordflow">if</span> (errno != EEXIST)</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                        <span class="keywordflow">return</span> (<span class="keyword">nullptr</span>);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        }</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    }</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">if</span> ((tfd = fopen(path.c_str(),mode)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    {</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">return</span> (tfd);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">nullptr</span>);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;}</div><div class="ttc" id="png_8c_html_a209c8e470817686b5ca6730db67f8d67"><div class="ttname"><a href="png_8c.html#a209c8e470817686b5ca6730db67f8d67">length</a></div><div class="ttdeci">png_uint_32 length</div><div class="ttdef"><b>Definition:</b> png.c:2173</div></div>
<div class="ttc" id="agent__node_8cpp_html_a40b0fee77c8cf6e858b43325031dbf96"><div class="ttname"><a href="agent__node_8cpp.html#a40b0fee77c8cf6e858b43325031dbf96">dindex</a></div><div class="ttdeci">uint32_t dindex</div><div class="ttdef"><b>Definition:</b> agent_node.cpp:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaeb18705f44af4166b071a7bb20947c90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t set_cosmosroot </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Root Directory. </p>
<p>Set the internal variable that points to where all COSMOS files are stored. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Absolute or relative pathname of directory. </td></tr>
    <tr><td class="paramname">create_flag</td><td>Create directory if not already present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;{</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <a class="code" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a>.clear();</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>.length(); ++<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;\\&#39;</span>)</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>.replace(<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, 1, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        }</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a>(<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>))</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <a class="code" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a> = <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">if</span> (create_flag)</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        {</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            <span class="keywordflow">if</span> (COSMOS_MKDIR(<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>.c_str(), 00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                <a class="code" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a> = <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            }</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                <span class="keywordflow">return</span> -errno;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            }</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__error__defines.html#ga1d5ab2fb0c3a65f6255b1ae06fff8bd5">DATA_ERROR_RESOURCES_FOLDER</a>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__error__defines_html_ga1d5ab2fb0c3a65f6255b1ae06fff8bd5"><div class="ttname"><a href="group__error__defines.html#ga1d5ab2fb0c3a65f6255b1ae06fff8bd5">DATA_ERROR_RESOURCES_FOLDER</a></div><div class="ttdeci">#define DATA_ERROR_RESOURCES_FOLDER</div><div class="ttdef"><b>Definition:</b> cosmos-errno.h:153</div></div>
<div class="ttc" id="group__datalib__statics_html_ga0b585155488819ff8618868812c6b331"><div class="ttname"><a href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a></div><div class="ttdeci">static string cosmosroot</div><div class="ttdoc">Path to COSMOS root directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:44</div></div>
<div class="ttc" id="group__datalib__functions_html_ga6bc39454c39861b4db8d540109f0c501"><div class="ttname"><a href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a></div><div class="ttdeci">bool data_isdir(string path)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:1865</div></div>
<div class="ttc" id="cubesat2obj_8cpp_html_a8ccf841cb59e451791bcb2e1ac4f1edc"><div class="ttname"><a href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> cubesat2obj.cpp:6</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga54279525dbf550981ab3ade6e4a98ffc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t set_cosmosroot </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find Root Directory. </p>
<p>Set the internal variable that points to where all COSMOS resource files are stored. This checks, in succession:</p><ul>
<li>a folder named "root" in a path specified by the COSMOS environment variable</li>
<li>the path specified by the COSMOSRESOURCES environment variable</li>
<li>"~/cosmos/root" (Unix); "c:\cosmos\root" (Windows)</li>
<li>up to 6 levels above the current directory, first in "cosmosroot", and then in "root". <dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
</li>
</ul>
<div class="fragment"><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;{</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordtype">string</span> croot;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordtype">char</span> *troot;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a>.empty())</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="comment">// if the COSMOS environment variable was set, use it</span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">if</span> ((troot = getenv(<span class="stringliteral">&quot;COSMOS&quot;</span>)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            croot = troot;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a>(croot, create_flag))</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            {</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        }</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="comment">// No environment variables set. Look in standard location.</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="preprocessor">#if defined(COSMOS_LINUX_OS) || defined(COSMOS_MAC_OS)</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <span class="comment">// default path on macOS and linux is home folder for running user</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keywordflow">if</span> ((troot = getenv(<span class="stringliteral">&quot;HOME&quot;</span>)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            croot = troot + (string)<span class="stringliteral">&quot;/cosmos&quot;</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        }</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            croot = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <span class="keywordflow">return</span> (<a class="code" href="group__error__defines.html#gae016eb9b49cbea73b2c4289240badd1e">DATA_ERROR_ROOT_FOLDER</a>);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="preprocessor">#ifdef COSMOS_WIN_OS</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        croot = <span class="stringliteral">&quot;c:/cosmos&quot;</span>;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a>(croot, <span class="keyword">false</span>))</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        {</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        }</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="comment">// No standard location. Search upward for &quot;cosmosroot&quot;</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        croot = <span class="stringliteral">&quot;cosmos&quot;</span>;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;6; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        {</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a>(croot, <span class="keyword">false</span>))</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            {</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            }</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            croot = <span class="stringliteral">&quot;../&quot;</span> + croot;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        }</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    }</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="comment">// if cosmosroot is still empty then try to create standard location, otherwise fail</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a>.empty())</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    {</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="keywordflow">if</span> (create_flag)</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="preprocessor">#ifdef COSMOS_LINUX_OS</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordflow">if</span> ((troot = getenv(<span class="stringliteral">&quot;HOME&quot;</span>)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            {</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                croot = troot + (string)<span class="stringliteral">&quot;/cosmos&quot;</span>;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            }</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            {</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                croot = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                <span class="keywordflow">return</span> (<a class="code" href="group__error__defines.html#gae016eb9b49cbea73b2c4289240badd1e">DATA_ERROR_ROOT_FOLDER</a>);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            }</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="preprocessor">#ifdef COSMOS_MAC_OS</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            croot = <span class="stringliteral">&quot;/Applications/cosmos&quot;</span>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="preprocessor">#ifdef COSMOS_WIN_OS</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            croot = <span class="stringliteral">&quot;c:/cosmos&quot;</span>;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            <span class="keywordflow">if</span> ((iretn=<a class="code" href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a>(croot, create_flag)) == 0)</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            }</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            {</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            }</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        }</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        {</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <span class="keywordflow">return</span> (<a class="code" href="group__error__defines.html#gae016eb9b49cbea73b2c4289240badd1e">DATA_ERROR_ROOT_FOLDER</a>);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        }</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    }</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaeb18705f44af4166b071a7bb20947c90"><div class="ttname"><a href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a></div><div class="ttdeci">int32_t set_cosmosroot(string name, bool create_flag)</div><div class="ttdoc">Set Root Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1064</div></div>
<div class="ttc" id="rw__test_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__statics_html_ga0b585155488819ff8618868812c6b331"><div class="ttname"><a href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a></div><div class="ttdeci">static string cosmosroot</div><div class="ttdoc">Path to COSMOS root directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:44</div></div>
<div class="ttc" id="group__error__defines_html_gae016eb9b49cbea73b2c4289240badd1e"><div class="ttname"><a href="group__error__defines.html#gae016eb9b49cbea73b2c4289240badd1e">DATA_ERROR_ROOT_FOLDER</a></div><div class="ttdeci">#define DATA_ERROR_ROOT_FOLDER</div><div class="ttdef"><b>Definition:</b> cosmos-errno.h:155</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae8fd8efba618f7ba0f2d667360a3a4dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string get_cosmosroot </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return COSMOS Root Directory. </p>
<p>Get the internal variable that points to where all COSMOS Resource files are stored. Initialize variable if this is the first call to the function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">create_flag</td><td>Create directory if not already present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of string, otherwise negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;{</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordtype">string</span> result;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="group__datalib__functions.html#gae8fd8efba618f7ba0f2d667360a3a4dd">get_cosmosroot</a>(result, create_flag);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gae8fd8efba618f7ba0f2d667360a3a4dd"><div class="ttname"><a href="group__datalib__functions.html#gae8fd8efba618f7ba0f2d667360a3a4dd">get_cosmosroot</a></div><div class="ttdeci">string get_cosmosroot(bool create_flag)</div><div class="ttdoc">Return COSMOS Root Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1209</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5e17e6f4f6e8d7b9da52862a9eb445fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t get_cosmosroot </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return COSMOS Root Directory. </p>
<p>Get the internal variable that points to where all COSMOS Resource files are stored. Initialize variable if this is the first call to the function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>Full path to Root directory. </td></tr>
    <tr><td class="paramname">create_flag</td><td>Create directory if not already present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of string, otherwise negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;{</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    result.clear();</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a>.empty())</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    {</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        iretn = <a class="code" href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a>(create_flag);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <span class="keywordflow">if</span> (iretn &lt; 0)</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        {</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        }</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    }</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    result = <a class="code" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a>;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaeb18705f44af4166b071a7bb20947c90"><div class="ttname"><a href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a></div><div class="ttdeci">int32_t set_cosmosroot(string name, bool create_flag)</div><div class="ttdoc">Set Root Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1064</div></div>
<div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__statics_html_ga0b585155488819ff8618868812c6b331"><div class="ttname"><a href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a></div><div class="ttdeci">static string cosmosroot</div><div class="ttdoc">Path to COSMOS root directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaac1c452cd45620d6aa85197caacae9c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t set_cosmosresources </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Resources Directory. </p>
<p>Set the internal variable that points to where all COSMOS resource files are stored. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Absolute or relative pathname of directory. </td></tr>
    <tr><td class="paramname">create_flag</td><td>Create directory if not already present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;{</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="group__datalib__statics.html#ga7af12ac5a492e7b0def9615463644384">cosmosresources</a>.clear();</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>.length(); ++<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;\\&#39;</span>)</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>.replace(<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, 1, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    }</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a>(<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>))</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <a class="code" href="group__datalib__statics.html#ga7af12ac5a492e7b0def9615463644384">cosmosresources</a> = <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="keywordflow">if</span> (create_flag)</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        {</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <span class="keywordflow">if</span> (COSMOS_MKDIR(<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>.c_str(), 00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            {</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                <a class="code" href="group__datalib__statics.html#ga7af12ac5a492e7b0def9615463644384">cosmosresources</a> = <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                <span class="keywordflow">return</span> -errno;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            }</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        }</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        {</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__error__defines.html#ga1d5ab2fb0c3a65f6255b1ae06fff8bd5">DATA_ERROR_RESOURCES_FOLDER</a>;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        }</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    }</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__error__defines_html_ga1d5ab2fb0c3a65f6255b1ae06fff8bd5"><div class="ttname"><a href="group__error__defines.html#ga1d5ab2fb0c3a65f6255b1ae06fff8bd5">DATA_ERROR_RESOURCES_FOLDER</a></div><div class="ttdeci">#define DATA_ERROR_RESOURCES_FOLDER</div><div class="ttdef"><b>Definition:</b> cosmos-errno.h:153</div></div>
<div class="ttc" id="group__datalib__functions_html_ga6bc39454c39861b4db8d540109f0c501"><div class="ttname"><a href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a></div><div class="ttdeci">bool data_isdir(string path)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:1865</div></div>
<div class="ttc" id="cubesat2obj_8cpp_html_a8ccf841cb59e451791bcb2e1ac4f1edc"><div class="ttname"><a href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> cubesat2obj.cpp:6</div></div>
<div class="ttc" id="group__datalib__statics_html_ga7af12ac5a492e7b0def9615463644384"><div class="ttname"><a href="group__datalib__statics.html#ga7af12ac5a492e7b0def9615463644384">cosmosresources</a></div><div class="ttdeci">static string cosmosresources</div><div class="ttdoc">Path to COSMOS Resources directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:48</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga09a01b1a76b21ff6d9fa0d8710b4e109"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t set_cosmosresources </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find Resources Directory. </p>
<p>Set the internal variable that points to where all COSMOS resource files are stored. This checks, in succession:</p><ul>
<li>a folder named "resources" in a path specified by the COSMOS environment variable</li>
<li>the path specified by the COSMOSRESOURCES environment variable</li>
<li>"~/cosmos/resources" (Unix); "c:\cosmos\resources" (Windows)</li>
<li>up to 6 levels above the current directory, first in "cosmosresources", and then in "resources". <dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
</li>
</ul>
<div class="fragment"><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;{</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="keywordtype">string</span> croot;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordtype">char</span> *troot;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__statics.html#ga7af12ac5a492e7b0def9615463644384">cosmosresources</a>.empty())</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    {</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">if</span> ((troot = getenv(<span class="stringliteral">&quot;COSMOSRESOURCES&quot;</span>)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            croot = troot;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            <span class="keywordflow">if</span> ((iretn=<a class="code" href="group__datalib__functions.html#gaac1c452cd45620d6aa85197caacae9c2">set_cosmosresources</a>(croot, create_flag)) == 0)</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            }</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            }</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        }</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <span class="keywordflow">if</span> ((iretn = <a class="code" href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a>(create_flag)) == 0)</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            {</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                croot = <a class="code" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a> + <span class="stringliteral">&quot;/resources&quot;</span>;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                iretn = <a class="code" href="group__datalib__functions.html#gaac1c452cd45620d6aa85197caacae9c2">set_cosmosresources</a>(croot, create_flag);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            {</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            }</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        }</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    }</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaeb18705f44af4166b071a7bb20947c90"><div class="ttname"><a href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a></div><div class="ttdeci">int32_t set_cosmosroot(string name, bool create_flag)</div><div class="ttdoc">Set Root Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1064</div></div>
<div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__statics_html_ga0b585155488819ff8618868812c6b331"><div class="ttname"><a href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a></div><div class="ttdeci">static string cosmosroot</div><div class="ttdoc">Path to COSMOS root directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:44</div></div>
<div class="ttc" id="group__datalib__functions_html_gaac1c452cd45620d6aa85197caacae9c2"><div class="ttname"><a href="group__datalib__functions.html#gaac1c452cd45620d6aa85197caacae9c2">set_cosmosresources</a></div><div class="ttdeci">int32_t set_cosmosresources(string name, bool create_flag)</div><div class="ttdoc">Set Resources Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1248</div></div>
<div class="ttc" id="group__datalib__statics_html_ga7af12ac5a492e7b0def9615463644384"><div class="ttname"><a href="group__datalib__statics.html#ga7af12ac5a492e7b0def9615463644384">cosmosresources</a></div><div class="ttdeci">static string cosmosresources</div><div class="ttdoc">Path to COSMOS Resources directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:48</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga0ab0e5e717aa450e8d6cdc71958910aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string get_cosmosresources </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return COSMOS Resources Directory. </p>
<p>Get the internal variable that points to where all COSMOS Resource files are stored. Initialize variable if this is the first call to the function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">create_flag</td><td>Create directory if not already present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of string, otherwise negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;{</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordtype">string</span> result=<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="group__datalib__functions.html#ga0ab0e5e717aa450e8d6cdc71958910aa">get_cosmosresources</a>(result, create_flag);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga0ab0e5e717aa450e8d6cdc71958910aa"><div class="ttname"><a href="group__datalib__functions.html#ga0ab0e5e717aa450e8d6cdc71958910aa">get_cosmosresources</a></div><div class="ttdeci">string get_cosmosresources(bool create_flag)</div><div class="ttdoc">Return COSMOS Resources Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1337</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa47fa62e743326a769d114b26865f52a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t get_cosmosresources </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return COSMOS Resources Directory. </p>
<p>Get the internal variable that points to where all COSMOS Resource files are stored. Initialize variable if this is the first call to the function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>Full path to Resources directory. </td></tr>
    <tr><td class="paramname">create_flag</td><td>Create directory if not already present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of string, otherwise negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;{</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    result.clear();</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__statics.html#ga7af12ac5a492e7b0def9615463644384">cosmosresources</a>.empty())</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        iretn = <a class="code" href="group__datalib__functions.html#gaac1c452cd45620d6aa85197caacae9c2">set_cosmosresources</a>(create_flag);</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="keywordflow">if</span> (iretn &lt; 0)</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        }</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    result = <a class="code" href="group__datalib__statics.html#ga7af12ac5a492e7b0def9615463644384">cosmosresources</a>;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__functions_html_gaac1c452cd45620d6aa85197caacae9c2"><div class="ttname"><a href="group__datalib__functions.html#gaac1c452cd45620d6aa85197caacae9c2">set_cosmosresources</a></div><div class="ttdeci">int32_t set_cosmosresources(string name, bool create_flag)</div><div class="ttdoc">Set Resources Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1248</div></div>
<div class="ttc" id="group__datalib__statics_html_ga7af12ac5a492e7b0def9615463644384"><div class="ttname"><a href="group__datalib__statics.html#ga7af12ac5a492e7b0def9615463644384">cosmosresources</a></div><div class="ttdeci">static string cosmosresources</div><div class="ttdoc">Path to COSMOS Resources directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:48</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga821114579d3f1b8aa333afe61b030a30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t setEnvCosmosResources </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Environment Variable for COSMOS resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Full path of the COSMOS resources folder. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                                          {</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__datalib__functions.html#gaf6f121cde49ff2cb5cb4f4a34cd0a572">setEnv</a>(<span class="stringliteral">&quot;COSMOSRESOURCES&quot;</span>, path);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaf6f121cde49ff2cb5cb4f4a34cd0a572"><div class="ttname"><a href="group__datalib__functions.html#gaf6f121cde49ff2cb5cb4f4a34cd0a572">setEnv</a></div><div class="ttdeci">int32_t setEnv(string var, string path)</div><div class="ttdoc">Set Environment Variable for COSMOS. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1393</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga321e797617b5caec8481a164d1658259"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t setEnvCosmosNodes </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Environment Variable for COSMOS nodes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Full path of the COSMOS nodes folder. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                      {</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__datalib__functions.html#gaf6f121cde49ff2cb5cb4f4a34cd0a572">setEnv</a>(<span class="stringliteral">&quot;COSMOSNODES&quot;</span>, path);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaf6f121cde49ff2cb5cb4f4a34cd0a572"><div class="ttname"><a href="group__datalib__functions.html#gaf6f121cde49ff2cb5cb4f4a34cd0a572">setEnv</a></div><div class="ttdeci">int32_t setEnv(string var, string path)</div><div class="ttdoc">Set Environment Variable for COSMOS. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1393</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf6f121cde49ff2cb5cb4f4a34cd0a572"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t setEnv </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Environment Variable for COSMOS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>environment variable to set (ex. COSMOSRESOURCES) </td></tr>
    <tr><td class="paramname">path</td><td>Full path of the COSMOS variable folder. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                                       {</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    uint32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="preprocessor">#ifdef COSMOS_WIN_OS</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="comment">// windows</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    iretn = _putenv_s(var.c_str(),path.c_str());</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="comment">// mac, linux</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    iretn = setenv(var.c_str(),</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                   path.c_str(),1);</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordtype">char</span> *pathReturned = getenv(var.c_str());</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">if</span> (pathReturned == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    {</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__error__defines.html#ga1d5ab2fb0c3a65f6255b1ae06fff8bd5">DATA_ERROR_RESOURCES_FOLDER</a>;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    }</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="comment">//    if (pathReturned!=NULL){</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="comment">//        std::cout &lt;&lt; var &lt;&lt; &quot; set to &quot; &lt;&lt; pathReturned &lt;&lt; std::endl;</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="comment">//    } else {</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="comment">//        std::cout &lt;&lt; var &lt;&lt; &quot; not set &quot; &lt;&lt; std::endl;</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="comment">//        return DATA_ERROR_RESOURCES_FOLDER;</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">//    }</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;}</div><div class="ttc" id="group__error__defines_html_ga1d5ab2fb0c3a65f6255b1ae06fff8bd5"><div class="ttname"><a href="group__error__defines.html#ga1d5ab2fb0c3a65f6255b1ae06fff8bd5">DATA_ERROR_RESOURCES_FOLDER</a></div><div class="ttdeci">#define DATA_ERROR_RESOURCES_FOLDER</div><div class="ttdef"><b>Definition:</b> cosmos-errno.h:153</div></div>
<div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa7311e13548ca2159ee867e8182e9374"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t setEnvCosmos </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set Environment Variable for COSMOS Automatically These variables are just temporarily created while the program runs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>full path of the COSMOS variable folder. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                                 {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    uint32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    iretn = <a class="code" href="group__datalib__functions.html#gaf6f121cde49ff2cb5cb4f4a34cd0a572">setEnv</a>(<span class="stringliteral">&quot;COSMOSRESOURCES&quot;</span>, path + <span class="stringliteral">&quot;resources&quot;</span>);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    iretn = <a class="code" href="group__datalib__functions.html#gaf6f121cde49ff2cb5cb4f4a34cd0a572">setEnv</a>(<span class="stringliteral">&quot;COSMOSNODES&quot;</span>, path + <span class="stringliteral">&quot;nodes&quot;</span>);</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__functions_html_gaf6f121cde49ff2cb5cb4f4a34cd0a572"><div class="ttname"><a href="group__datalib__functions.html#gaf6f121cde49ff2cb5cb4f4a34cd0a572">setEnv</a></div><div class="ttdeci">int32_t setEnv(string var, string path)</div><div class="ttdoc">Set Environment Variable for COSMOS. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1393</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga241b2638a2537f0b49f882b7f85cbbfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t set_cosmosnodes </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Nodes Directory. </p>
<p>Set the internal variable that points to where all COSMOS resource files are stored. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Absolute or relative pathname of directory. </td></tr>
    <tr><td class="paramname">create_flag</td><td>Create directory if not already present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;{</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <a class="code" href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a>.clear();</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>.length(); ++<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="charliteral">&#39;\\&#39;</span>)</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        {</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>.replace(<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>, 1, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        }</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    }</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a>(<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>))</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    {</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <a class="code" href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a> = <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    }</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <span class="keywordflow">if</span> (create_flag)</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        {</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            <span class="keywordflow">if</span> (COSMOS_MKDIR(<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>.c_str(), 00777) == 0 || errno == EEXIST)</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            {</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                <a class="code" href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a> = <a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            }</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                <span class="keywordflow">return</span> -errno;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            }</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        }</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        {</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__error__defines.html#ga02b378371eb070aa7495637e7ec5651e">DATA_ERROR_NODES_FOLDER</a>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        }</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    }</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div><div class="ttc" id="group__error__defines_html_ga02b378371eb070aa7495637e7ec5651e"><div class="ttname"><a href="group__error__defines.html#ga02b378371eb070aa7495637e7ec5651e">DATA_ERROR_NODES_FOLDER</a></div><div class="ttdeci">#define DATA_ERROR_NODES_FOLDER</div><div class="ttdef"><b>Definition:</b> cosmos-errno.h:154</div></div>
<div class="ttc" id="rw__test_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__functions_html_ga6bc39454c39861b4db8d540109f0c501"><div class="ttname"><a href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a></div><div class="ttdeci">bool data_isdir(string path)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:1865</div></div>
<div class="ttc" id="cubesat2obj_8cpp_html_a8ccf841cb59e451791bcb2e1ac4f1edc"><div class="ttname"><a href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> cubesat2obj.cpp:6</div></div>
<div class="ttc" id="group__datalib__statics_html_ga8c89646a7b296a15999c488316a6eff6"><div class="ttname"><a href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a></div><div class="ttdeci">static string cosmosnodes</div><div class="ttdoc">Path to COSMOS Nodes directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:46</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf8781e6d640e9a02a7d41071fbea1347"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t set_cosmosnodes </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find COSMOS Nodes Directory on Windows, Linux or MacOS. </p>
<p>Set the internal variable that points to where all COSMOS node files are stored. This either uses the value in COSMOSNODES, or looks for the directory up to 6 levels above the current directory, first in "cosmosnodes", and then in "nodes". </p><dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;{</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="keywordtype">string</span> croot;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordtype">char</span> *troot;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a>.empty())</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    {</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <span class="comment">// find environment variable COSMOSNODES</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <span class="keywordflow">if</span> ((troot = getenv(<span class="stringliteral">&quot;COSMOSNODES&quot;</span>)) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        {</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            croot = troot;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            <span class="keywordflow">if</span> ((iretn=<a class="code" href="group__datalib__functions.html#ga241b2638a2537f0b49f882b7f85cbbfe">set_cosmosnodes</a>(croot, create_flag)) == 0)</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            }</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;            {</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        }</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">else</span> <span class="comment">// look for the default path: $COSMOS/nodes or $HOME/cosmos/nodes</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        {</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            <span class="keywordflow">if</span> ((iretn = <a class="code" href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a>(create_flag)) == 0)</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            {</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                croot = <a class="code" href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a> + <span class="stringliteral">&quot;/nodes&quot;</span>;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                iretn = <a class="code" href="group__datalib__functions.html#ga241b2638a2537f0b49f882b7f85cbbfe">set_cosmosnodes</a>(croot, create_flag);</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            }</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            {</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        }</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    }</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaeb18705f44af4166b071a7bb20947c90"><div class="ttname"><a href="group__datalib__functions.html#gaeb18705f44af4166b071a7bb20947c90">set_cosmosroot</a></div><div class="ttdeci">int32_t set_cosmosroot(string name, bool create_flag)</div><div class="ttdoc">Set Root Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1064</div></div>
<div class="ttc" id="group__datalib__functions_html_ga241b2638a2537f0b49f882b7f85cbbfe"><div class="ttname"><a href="group__datalib__functions.html#ga241b2638a2537f0b49f882b7f85cbbfe">set_cosmosnodes</a></div><div class="ttdeci">int32_t set_cosmosnodes(string name, bool create_flag)</div><div class="ttdoc">Set Nodes Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1445</div></div>
<div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__statics_html_ga0b585155488819ff8618868812c6b331"><div class="ttname"><a href="group__datalib__statics.html#ga0b585155488819ff8618868812c6b331">cosmosroot</a></div><div class="ttdeci">static string cosmosroot</div><div class="ttdoc">Path to COSMOS root directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:44</div></div>
<div class="ttc" id="group__datalib__statics_html_ga8c89646a7b296a15999c488316a6eff6"><div class="ttname"><a href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a></div><div class="ttdeci">static string cosmosnodes</div><div class="ttdoc">Path to COSMOS Nodes directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:46</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga33ad16ae49ca7da3fc6976f81f041613"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string get_cosmosnodes </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return COSMOS Nodes Directory. </p>
<p>Get the internal variable that points to where all COSMOS Node files are stored. Initialize variable if this is the first call to the function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">create_flag</td><td>Create directory if not already present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of string, otherwise negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;{</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordtype">string</span> result=<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <a class="code" href="group__datalib__functions.html#ga33ad16ae49ca7da3fc6976f81f041613">get_cosmosnodes</a>(result, create_flag);</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga33ad16ae49ca7da3fc6976f81f041613"><div class="ttname"><a href="group__datalib__functions.html#ga33ad16ae49ca7da3fc6976f81f041613">get_cosmosnodes</a></div><div class="ttdeci">string get_cosmosnodes(bool create_flag)</div><div class="ttdoc">Return COSMOS Nodes Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1532</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1f0a50b95a7f76230ecf1ed5f7cb3e07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t get_cosmosnodes </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get COSMOS Nodes Directory. </p>
<p>Get the internal variable that points to where all COSMOS files are stored. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>String to place path in. </td></tr>
    <tr><td class="paramname">create_flag</td><td>Create directory if not already present. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero, or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;{</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    result.clear();</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a>.empty())</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    {</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        iretn = <a class="code" href="group__datalib__functions.html#ga241b2638a2537f0b49f882b7f85cbbfe">set_cosmosnodes</a>(create_flag);</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">if</span> (iretn &lt; 0)</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        {</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            <span class="comment">//            std::cerr &lt;&lt; &quot;error &quot; &lt;&lt; DATA_ERROR_NODES_FOLDER &lt;&lt; &quot;: could not find cosmos/nodes folder&quot; &lt;&lt; std::endl;</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        }</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    }</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    result = <a class="code" href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a>;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga241b2638a2537f0b49f882b7f85cbbfe"><div class="ttname"><a href="group__datalib__functions.html#ga241b2638a2537f0b49f882b7f85cbbfe">set_cosmosnodes</a></div><div class="ttdeci">int32_t set_cosmosnodes(string name, bool create_flag)</div><div class="ttdoc">Set Nodes Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1445</div></div>
<div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__statics_html_ga8c89646a7b296a15999c488316a6eff6"><div class="ttname"><a href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a></div><div class="ttdeci">static string cosmosnodes</div><div class="ttdoc">Path to COSMOS Nodes directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:46</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaab01257dde63e1eb92dc01ca53ddc8e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string get_nodedir </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get Current Node Directory. </p>
<p>Get the internal variable that points to where node files are stored for the current Node. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Name of current Node </td></tr>
    <tr><td class="paramname">create_flag</td><td>Whether or not to create node directory if it doesn't already exist. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to character string containing path to Node, otherwise nullptr. </dd></dl>
<div class="fragment"><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;{</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>.clear();</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__datalib__functions.html#ga241b2638a2537f0b49f882b7f85cbbfe">set_cosmosnodes</a>(create_flag))</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    {</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a> = <a class="code" href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a> + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <span class="comment">// if the node folder does not exist</span></div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a>(<a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>))</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        {</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <span class="comment">// if the create folder flag is not on then</span></div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <span class="comment">// exit this function without a nodedir</span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <span class="keywordflow">if</span> (!create_flag)</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            {</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                <a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>.clear();</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            }</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            <span class="keywordflow">else</span> <span class="comment">// let&#39;s create the node directory (good for on the fly nodes)</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            {</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                <span class="keywordflow">if</span> (COSMOS_MKDIR(<a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>.c_str(),00777) != 0)</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                {</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                    <a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>.clear();</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;                }</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            }</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;            <span class="comment">// node folder exists</span></div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    }</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <span class="comment">// if the node folder exists or was created let&#39;s return the path</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>);</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_ga241b2638a2537f0b49f882b7f85cbbfe"><div class="ttname"><a href="group__datalib__functions.html#ga241b2638a2537f0b49f882b7f85cbbfe">set_cosmosnodes</a></div><div class="ttdeci">int32_t set_cosmosnodes(string name, bool create_flag)</div><div class="ttdoc">Set Nodes Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1445</div></div>
<div class="ttc" id="group__datalib__functions_html_ga6bc39454c39861b4db8d540109f0c501"><div class="ttname"><a href="group__datalib__functions.html#ga6bc39454c39861b4db8d540109f0c501">data_isdir</a></div><div class="ttdeci">bool data_isdir(string path)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:1865</div></div>
<div class="ttc" id="group__datalib__statics_html_gaa123a675ad80009bda5dcbbcbc8ccb4e"><div class="ttname"><a href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a></div><div class="ttdeci">static string nodedir</div><div class="ttdoc">Path to current COSMOS Node directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:50</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
<div class="ttc" id="group__datalib__statics_html_ga8c89646a7b296a15999c488316a6eff6"><div class="ttname"><a href="group__datalib__statics.html#ga8c89646a7b296a15999c488316a6eff6">cosmosnodes</a></div><div class="ttdeci">static string cosmosnodes</div><div class="ttdoc">Path to COSMOS Nodes directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:46</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga6767e216e8031b92a94bcd90497ddb71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t data_load_archive </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>utcbegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>utcend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load data from archive. </p>
<p>Load JSON entries of specified type from data archive for specified Node and Agent. Will return all data that is available within specified date range, in files {COSMOSNODES}/{Node}/date/{Agent}/{yyyy}/{ddd}/{*}.type. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Name of Node. </td></tr>
    <tr><td class="paramname">agent</td><td>Name of Agent. </td></tr>
    <tr><td class="paramname">utcbegin</td><td>Starting UTC. </td></tr>
    <tr><td class="paramname">utcend</td><td>Ending UTC. </td></tr>
    <tr><td class="paramname">type</td><td>Type extension. </td></tr>
    <tr><td class="paramname">result</td><td>Vector of JSON strings. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;{</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    std::ifstream tfd;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordtype">string</span> tstring;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    vector &lt;filestruc&gt; files;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    result.clear();</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a> = floor(utcbegin); <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a> &lt;= floor(<a class="code" href="fast__contacts_8cpp.html#ab0fa33b75b0fb3cb5ae1ed033ffe314c">utcend</a>); ++<a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>)</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        files = <a class="code" href="group__datalib__functions.html#gaaf00a4557c26fd8f628b8338d6b52ee2">data_list_archive</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, type);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;files.size(); ++<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        {</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a> == floor(utcbegin) &amp;&amp; <a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; files.size()-2 &amp;&amp; files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>+1].utc &lt; utcbegin)</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            {</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            }</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a> == floor(<a class="code" href="fast__contacts_8cpp.html#ab0fa33b75b0fb3cb5ae1ed033ffe314c">utcend</a>) &amp;&amp; files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].utc &gt; <a class="code" href="fast__contacts_8cpp.html#ab0fa33b75b0fb3cb5ae1ed033ffe314c">utcend</a>)</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            {</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            }</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            tfd.open(files[<a class="code" href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a>].path);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <span class="keywordflow">if</span> (tfd.is_open())</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            {</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                <span class="keywordflow">while</span> (std::getline(tfd,tstring))</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                {</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                    result.push_back(tstring);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                }</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                tfd.close();</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            }</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        }</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    }</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="rw__test_8cpp.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="fast__contacts_8cpp_html_ab0fa33b75b0fb3cb5ae1ed033ffe314c"><div class="ttname"><a href="fast__contacts_8cpp.html#ab0fa33b75b0fb3cb5ae1ed033ffe314c">utcend</a></div><div class="ttdeci">double utcend</div><div class="ttdef"><b>Definition:</b> fast_contacts.cpp:65</div></div>
<div class="ttc" id="group__datalib__functions_html_gaaf00a4557c26fd8f628b8338d6b52ee2"><div class="ttname"><a href="group__datalib__functions.html#gaaf00a4557c26fd8f628b8338d6b52ee2">data_list_archive</a></div><div class="ttdeci">vector&lt; filestruc &gt; data_list_archive(string node, string agent, double utc, string type)</div><div class="ttdoc">Get a list of files in a Node archive. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:385</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga0349eabd99c32b097a34f83a41f699ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t data_load_archive </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mjd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;{</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    iretn = <a class="code" href="group__datalib__functions.html#ga6767e216e8031b92a94bcd90497ddb71">data_load_archive</a>(<a class="code" href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a>, <a class="code" href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a>, floor(<a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>), floor(<a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>)+.999999, type, result);</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__functions_html_ga6767e216e8031b92a94bcd90497ddb71"><div class="ttname"><a href="group__datalib__functions.html#ga6767e216e8031b92a94bcd90497ddb71">data_load_archive</a></div><div class="ttdeci">int32_t data_load_archive(string node, string agent, double utcbegin, double utcend, string type, vector&lt; string &gt; &amp;result)</div><div class="ttdoc">Load data from archive. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1616</div></div>
<div class="ttc" id="agent__001_8cpp_html_a33f057efc5b568f7255a73d2570c426a"><div class="ttname"><a href="agent__001_8cpp.html#a33f057efc5b568f7255a73d2570c426a">agent</a></div><div class="ttdeci">static Agent * agent</div><div class="ttdoc">The agent constructor. </div><div class="ttdef"><b>Definition:</b> agent_001.cpp:39</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
<div class="ttc" id="agent__monitor_8cpp_html_a90c46d7eb29ad8baa1281a134b56ab4c"><div class="ttname"><a href="agent__monitor_8cpp.html#a90c46d7eb29ad8baa1281a134b56ab4c">node</a></div><div class="ttdeci">static string node</div><div class="ttdef"><b>Definition:</b> agent_monitor.cpp:126</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa2aafdfded46f7b00514dff86318da0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t data_load_archive </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mjd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>telem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcosmosstruc.html">cosmosstruc</a> *&#160;</td>
          <td class="paramname"><em>cinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;{</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    int32_t <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    iretn = <a class="code" href="group__datalib__functions.html#ga6767e216e8031b92a94bcd90497ddb71">data_load_archive</a>(cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a97d97ec5e0931a700ff182b9c864051f">name</a>, <span class="stringliteral">&quot;soh&quot;</span>, <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, <span class="stringliteral">&quot;telemetry&quot;</span>, telem);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="keywordflow">if</span> (iretn &lt; 0)</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    {</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    }</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    iretn = <a class="code" href="group__datalib__functions.html#ga6767e216e8031b92a94bcd90497ddb71">data_load_archive</a>(cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a97d97ec5e0931a700ff182b9c864051f">name</a>, <span class="stringliteral">&quot;soh&quot;</span>, <a class="code" href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a>, <span class="stringliteral">&quot;event&quot;</span>, event);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a>;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;}</div><div class="ttc" id="rw__test_8cpp_html_afece067d35cd26a458c56fa8f276e734"><div class="ttname"><a href="rw__test_8cpp.html#afece067d35cd26a458c56fa8f276e734">iretn</a></div><div class="ttdeci">int iretn</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:37</div></div>
<div class="ttc" id="group__datalib__functions_html_ga6767e216e8031b92a94bcd90497ddb71"><div class="ttname"><a href="group__datalib__functions.html#ga6767e216e8031b92a94bcd90497ddb71">data_load_archive</a></div><div class="ttdeci">int32_t data_load_archive(string node, string agent, double utcbegin, double utcend, string type, vector&lt; string &gt; &amp;result)</div><div class="ttdoc">Load data from archive. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1616</div></div>
<div class="ttc" id="structcosmosstruc_html_af4e942210d74ec7b18eed16914c366ce"><div class="ttname"><a href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">cosmosstruc::node</a></div><div class="ttdeci">nodestruc node</div><div class="ttdoc">Structure for summary information in node. </div><div class="ttdef"><b>Definition:</b> jsondef.h:2014</div></div>
<div class="ttc" id="structnodestruc_html_a97d97ec5e0931a700ff182b9c864051f"><div class="ttname"><a href="structnodestruc.html#a97d97ec5e0931a700ff182b9c864051f">nodestruc::name</a></div><div class="ttdeci">char name[40+1]</div><div class="ttdoc">Node Name. </div><div class="ttdef"><b>Definition:</b> jsondef.h:1719</div></div>
<div class="ttc" id="udp__send_8cpp_html_ae2d93652b653a9f6c130719fe7693d66"><div class="ttname"><a href="udp__send_8cpp.html#ae2d93652b653a9f6c130719fe7693d66">mjd</a></div><div class="ttdeci">double mjd</div><div class="ttdef"><b>Definition:</b> udp_send.cpp:41</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1574766c974437c6e5919e339bca9693"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double findlastday </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find last day in archive. </p>
<p>Searches through data archives for this Node to find most recent day for which data is available. This is then stored in lastday. </p><dl class="section return"><dt>Returns</dt><dd>MJD of last day in archive, or zero. </dd></dl>
<div class="fragment"><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;{</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <a class="code" href="struct_d_i_r.html">DIR</a> *jdp;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdirent.html">dirent</a> *td;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordtype">int</span> year, jday;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordtype">char</span> dtemp[356];</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keyword">struct </span>tm mytm;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    time_t mytime;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    year = jday = 0;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__functions.html#gaab01257dde63e1eb92dc01ca53ddc8e9">get_nodedir</a>(<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>).size())</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    {</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        sprintf(dtemp,<span class="stringliteral">&quot;%s/data/soh&quot;</span>, <a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>.c_str());</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keywordflow">if</span> ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(dtemp))!=<span class="keyword">nullptr</span>)</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        {</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp))!=<span class="keyword">nullptr</span>)</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            {</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                {</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                    <span class="keywordflow">if</span> (atol(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>) &gt; year)</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                        year = atol(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                }</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            }</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            sprintf(dtemp,<span class="stringliteral">&quot;%s/data/soh/%04d&quot;</span>,<a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>.c_str(),year);</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            <span class="keywordflow">if</span> ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(dtemp))!=<span class="keyword">nullptr</span>)</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;            {</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp))!=<span class="keyword">nullptr</span>)</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                {</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;                    <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                    {</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                        <span class="keywordflow">if</span> (atol(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>) &gt; jday)</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                            jday = atol(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>);</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                    }</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                }</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            }</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        }</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <span class="keywordflow">if</span> (year == 0. || jday == 0.)</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        {</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            <span class="keywordflow">return</span> (0.);</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        }</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        mytm.tm_year = year - 1900;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        mytm.tm_hour = mytm.tm_min = mytm.tm_sec = 0;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        mytm.tm_mon = mytm.tm_mday = mytm.tm_wday = 0;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        mytm.tm_mday = 1;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        mytm.tm_mon = 0;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        mytm.tm_isdst = 0;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        mytime = mktime(&amp;mytm);</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        mytime += <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(((jday-1) * 86400.));</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="preprocessor">#ifdef COSMOS_WIN_OS</span></div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="keyword">struct </span>tm *temptm;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        temptm = localtime(&amp;mytime);</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="keywordflow">if</span>(temptm!=<span class="keyword">nullptr</span>)</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        {</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;            mytm = *temptm;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        }</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        localtime_r(&amp;mytime,&amp;mytm);</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a>(year,mytm.tm_mon+1,mytm.tm_mday);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    }</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    {</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    }</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;}</div><div class="ttc" id="dirent_8c_html_ac0258906f9453b8abf03e945aa9c9676"><div class="ttname"><a href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a></div><div class="ttdeci">int closedir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:74</div></div>
<div class="ttc" id="struct_d_i_r_html"><div class="ttname"><a href="struct_d_i_r.html">DIR</a></div><div class="ttdef"><b>Definition:</b> dirent.c:24</div></div>
<div class="ttc" id="structdirent_html"><div class="ttname"><a href="structdirent.html">dirent</a></div><div class="ttdef"><b>Definition:</b> dirent.h:21</div></div>
<div class="ttc" id="dirent_8c_html_a1632d8c06c14f295c6d9407b7fec67af"><div class="ttname"><a href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a></div><div class="ttdeci">DIR * opendir(const char *name)</div><div class="ttdef"><b>Definition:</b> dirent.c:32</div></div>
<div class="ttc" id="dirent_8c_html_ae4d263c5a1d3825c9511a898762513b2"><div class="ttname"><a href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a></div><div class="ttdeci">struct dirent * readdir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:97</div></div>
<div class="ttc" id="structdirent_html_ab703007dd91aa1f311cf0fc85268b2e1"><div class="ttname"><a href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">dirent::d_name</a></div><div class="ttdeci">char * d_name</div><div class="ttdef"><b>Definition:</b> dirent.h:23</div></div>
<div class="ttc" id="cubesat2obj_8cpp_html_a8ccf841cb59e451791bcb2e1ac4f1edc"><div class="ttname"><a href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> cubesat2obj.cpp:6</div></div>
<div class="ttc" id="group__timelib__functions_html_ga710482e26d7363e9990468c4b213e618"><div class="ttname"><a href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a></div><div class="ttdeci">double cal2mjd(int32_t year, int32_t month, int32_t day, int32_t hour, int32_t minute, int32_t second, int32_t nsecond)</div><div class="ttdoc">Calendar representation to Modified Julian Day - full. </div><div class="ttdef"><b>Definition:</b> timelib.cpp:294</div></div>
<div class="ttc" id="group__datalib__functions_html_gaab01257dde63e1eb92dc01ca53ddc8e9"><div class="ttname"><a href="group__datalib__functions.html#gaab01257dde63e1eb92dc01ca53ddc8e9">get_nodedir</a></div><div class="ttdeci">string get_nodedir(string node, bool create_flag)</div><div class="ttdoc">Get Current Node Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1572</div></div>
<div class="ttc" id="group__datalib__statics_html_gaa123a675ad80009bda5dcbbcbc8ccb4e"><div class="ttname"><a href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a></div><div class="ttdeci">static string nodedir</div><div class="ttdoc">Path to current COSMOS Node directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:50</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab36b822ba566b5cf6f9dba5e2ff67e29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double findfirstday </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find first day in archive. </p>
<p>Searches through data archives for this Node to find oldest day for which data is available. This is then stored in firstday. </p><dl class="section return"><dt>Returns</dt><dd>MJD of last day in archive. </dd></dl>
<div class="fragment"><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;{</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <a class="code" href="struct_d_i_r.html">DIR</a> *jdp;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdirent.html">dirent</a> *td;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordtype">int</span> year, jday;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordtype">char</span> dtemp[356];</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keyword">struct </span>tm mytm;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    time_t mytime;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__datalib__functions.html#gaab01257dde63e1eb92dc01ca53ddc8e9">get_nodedir</a>(<a class="code" href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a>).size())</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    {</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        year = jday = 9000;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        sprintf(dtemp,<span class="stringliteral">&quot;%s/data/soh&quot;</span>, <a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>.c_str());</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="keywordflow">if</span> ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(dtemp))!=<span class="keyword">nullptr</span>)</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        {</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp))!=<span class="keyword">nullptr</span>)</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            {</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                {</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                    <span class="keywordflow">if</span> (atol(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>) &lt; year)</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                        year = atol(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>);</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                }</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            }</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            sprintf(dtemp,<span class="stringliteral">&quot;%s/data/soh/%04d&quot;</span>,<a class="code" href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a>.c_str(),year);</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            <span class="keywordflow">if</span> ((jdp=<a class="code" href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a>(dtemp))!=<span class="keyword">nullptr</span>)</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            {</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                <span class="keywordflow">while</span> ((td=<a class="code" href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a>(jdp))!=<span class="keyword">nullptr</span>)</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                {</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                    <span class="keywordflow">if</span> (td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>[0] != <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                    {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                        <span class="keywordflow">if</span> (atol(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>) &lt; jday)</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                            jday = atol(td-&gt;<a class="code" href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">d_name</a>);</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                    }</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                }</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                <a class="code" href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a>(jdp);</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            }</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        }</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        <span class="keywordflow">if</span> (year == 9000. || jday == 9000.)</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        {</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            <span class="keywordflow">return</span> (0.);</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        }</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        mytm.tm_year = year - 1900;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        mytm.tm_hour = mytm.tm_min = mytm.tm_sec = 0;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        mytm.tm_mon = mytm.tm_mday = mytm.tm_wday = 0;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        mytm.tm_mday = 1;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        mytm.tm_mon = 0;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        mytm.tm_isdst = 0;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        mytime = mktime(&amp;mytm);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        mytime += (int)((jday-1) * 86400.);</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="preprocessor">#ifdef COSMOS_WIN_OS</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        <span class="keyword">struct </span>tm *temptm;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        temptm = localtime(&amp;mytime);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        mytm = *temptm;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        localtime_r(&amp;mytime,&amp;mytm);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a>(year,mytm.tm_mon+1,mytm.tm_mday));</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    }</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    {</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    }</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;}</div><div class="ttc" id="dirent_8c_html_ac0258906f9453b8abf03e945aa9c9676"><div class="ttname"><a href="dirent_8c.html#ac0258906f9453b8abf03e945aa9c9676">closedir</a></div><div class="ttdeci">int closedir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:74</div></div>
<div class="ttc" id="struct_d_i_r_html"><div class="ttname"><a href="struct_d_i_r.html">DIR</a></div><div class="ttdef"><b>Definition:</b> dirent.c:24</div></div>
<div class="ttc" id="structdirent_html"><div class="ttname"><a href="structdirent.html">dirent</a></div><div class="ttdef"><b>Definition:</b> dirent.h:21</div></div>
<div class="ttc" id="dirent_8c_html_a1632d8c06c14f295c6d9407b7fec67af"><div class="ttname"><a href="dirent_8c.html#a1632d8c06c14f295c6d9407b7fec67af">opendir</a></div><div class="ttdeci">DIR * opendir(const char *name)</div><div class="ttdef"><b>Definition:</b> dirent.c:32</div></div>
<div class="ttc" id="dirent_8c_html_ae4d263c5a1d3825c9511a898762513b2"><div class="ttname"><a href="dirent_8c.html#ae4d263c5a1d3825c9511a898762513b2">readdir</a></div><div class="ttdeci">struct dirent * readdir(DIR *dir)</div><div class="ttdef"><b>Definition:</b> dirent.c:97</div></div>
<div class="ttc" id="structdirent_html_ab703007dd91aa1f311cf0fc85268b2e1"><div class="ttname"><a href="structdirent.html#ab703007dd91aa1f311cf0fc85268b2e1">dirent::d_name</a></div><div class="ttdeci">char * d_name</div><div class="ttdef"><b>Definition:</b> dirent.h:23</div></div>
<div class="ttc" id="cubesat2obj_8cpp_html_a8ccf841cb59e451791bcb2e1ac4f1edc"><div class="ttname"><a href="cubesat2obj_8cpp.html#a8ccf841cb59e451791bcb2e1ac4f1edc">name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> cubesat2obj.cpp:6</div></div>
<div class="ttc" id="group__timelib__functions_html_ga710482e26d7363e9990468c4b213e618"><div class="ttname"><a href="group__timelib__functions.html#ga710482e26d7363e9990468c4b213e618">cal2mjd</a></div><div class="ttdeci">double cal2mjd(int32_t year, int32_t month, int32_t day, int32_t hour, int32_t minute, int32_t second, int32_t nsecond)</div><div class="ttdoc">Calendar representation to Modified Julian Day - full. </div><div class="ttdef"><b>Definition:</b> timelib.cpp:294</div></div>
<div class="ttc" id="group__datalib__functions_html_gaab01257dde63e1eb92dc01ca53ddc8e9"><div class="ttname"><a href="group__datalib__functions.html#gaab01257dde63e1eb92dc01ca53ddc8e9">get_nodedir</a></div><div class="ttdeci">string get_nodedir(string node, bool create_flag)</div><div class="ttdoc">Get Current Node Directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1572</div></div>
<div class="ttc" id="group__datalib__statics_html_gaa123a675ad80009bda5dcbbcbc8ccb4e"><div class="ttname"><a href="group__datalib__statics.html#gaa123a675ad80009bda5dcbbcbc8ccb4e">nodedir</a></div><div class="ttdeci">static string nodedir</div><div class="ttdoc">Path to current COSMOS Node directory. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:50</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa0b5702ea8b9057599a552d26a6704a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t kml_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcosmosstruc.html">cosmosstruc</a> *&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add to KML path. </p>
<p>Write a KML file to keep track of the path the node is following. Create the file if it doesn't alreay exist. Append to it if it already exists. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cinfo</td><td>Pointer to <a class="el" href="structcosmosstruc.html" title="JSON Name Space structure. ">cosmosstruc</a> to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0, otherwise negative error. </dd></dl>
<div class="fragment"><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;{</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="rw__test_8cpp.html#aaf89e0814a79d60c1a986f07766a4f85">buf</a>[500];</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    FILE *fin, *fout;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordtype">double</span> utc;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    utc = floor(cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a11b7bdf3e2c41bdef7eb3f8b0ad4d9b7">loc</a>.<a class="code" href="structlocstruc.html#a3e292c0cfc34066509120bcddeb5b33d">utc</a>);</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="keywordtype">string</span> path = <a class="code" href="group__datalib__functions.html#gade4d81e56aef2cda654079f687269673">data_type_path</a>((<span class="keywordtype">string</span>)cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a97d97ec5e0931a700ff182b9c864051f">name</a>, <span class="stringliteral">&quot;outgoing&quot;</span>, <span class="stringliteral">&quot;google&quot;</span>, utc, <span class="stringliteral">&quot;points&quot;</span>);</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    fin = <a class="code" href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a>(path, (<span class="keywordtype">char</span> *)<span class="stringliteral">&quot;a+&quot;</span>);</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    fprintf(fin,<span class="stringliteral">&quot;%.5f,%.5f,%.5f\n&quot;</span>,<a class="code" href="group__mathlib__constants.html#ga8d16f42baecf5fa97fcefed765943080">DEGOF</a>(cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a11b7bdf3e2c41bdef7eb3f8b0ad4d9b7">loc</a>.<a class="code" href="structlocstruc.html#a720579567683aee2663de0a7e46942aa">pos</a>.<a class="code" href="structposstruc.html#a906e802c4aa1f6ac5ad34f5b3a728f6c">geod</a>.<a class="code" href="structgeoidpos.html#a58eea1d79a7ffc82af4a43840852b8a1">s</a>.<a class="code" href="structgvector.html#a0bfcf58a2e1347b2acf503e503f1c93d">lon</a>),<a class="code" href="group__mathlib__constants.html#ga8d16f42baecf5fa97fcefed765943080">DEGOF</a>(cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a11b7bdf3e2c41bdef7eb3f8b0ad4d9b7">loc</a>.<a class="code" href="structlocstruc.html#a720579567683aee2663de0a7e46942aa">pos</a>.<a class="code" href="structposstruc.html#a906e802c4aa1f6ac5ad34f5b3a728f6c">geod</a>.<a class="code" href="structgeoidpos.html#a58eea1d79a7ffc82af4a43840852b8a1">s</a>.<a class="code" href="structgvector.html#a76ed76078ce8f825c8c1e783b0a3b7c2">lat</a>),cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a11b7bdf3e2c41bdef7eb3f8b0ad4d9b7">loc</a>.<a class="code" href="structlocstruc.html#a720579567683aee2663de0a7e46942aa">pos</a>.<a class="code" href="structposstruc.html#a906e802c4aa1f6ac5ad34f5b3a728f6c">geod</a>.<a class="code" href="structgeoidpos.html#a58eea1d79a7ffc82af4a43840852b8a1">s</a>.<a class="code" href="structgvector.html#a682173234f20766ce6fc83b8723758e7">h</a>);</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    path = <a class="code" href="group__datalib__functions.html#gade4d81e56aef2cda654079f687269673">data_type_path</a>(cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a97d97ec5e0931a700ff182b9c864051f">name</a>,(<span class="keywordtype">char</span> *)<span class="stringliteral">&quot;outgoing&quot;</span>,(<span class="keywordtype">char</span> *)<span class="stringliteral">&quot;google&quot;</span>,  utc,(<span class="keywordtype">char</span> *)<span class="stringliteral">&quot;kml&quot;</span>);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    fout = <a class="code" href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a>(path, (<span class="keywordtype">char</span> *)<span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;kml xmlns=\&quot;http://www.opengis.net/kml/2.2\&quot;&gt;\n&quot;</span>);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;Document&gt;\n&quot;</span>);</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;name&gt;%s JD%5.0f&lt;/name&gt;\n&quot;</span>,cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a97d97ec5e0931a700ff182b9c864051f">name</a>,utc);</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;description&gt;Track of node.&lt;/description&gt;\n&quot;</span>);</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;Style id=\&quot;yellowLineGreenPoly\&quot;&gt;\n&lt;LineStyle&gt;\n&lt;color&gt;7f00ffff&lt;/color&gt;\n&lt;width&gt;4&lt;/width&gt;\n&lt;/LineStyle&gt;\n&quot;</span>);</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;PolyStyle&gt;\n&lt;color&gt;7f00ff00&lt;/color&gt;\n&lt;/PolyStyle&gt;\n&lt;/Style&gt;\n&quot;</span>);</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;Placemark&gt;\n&lt;name&gt;Node Path&lt;/name&gt;\n&lt;description&gt;%s JD%5.0f&lt;/description&gt;\n&quot;</span>,cinfo-&gt;<a class="code" href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">node</a>.<a class="code" href="structnodestruc.html#a97d97ec5e0931a700ff182b9c864051f">name</a>,utc);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;styleUrl&gt;#yellowLineGreenPoly&lt;/styleUrl&gt;\n&lt;LineString&gt;\n&lt;extrude&gt;1&lt;/extrude&gt;\n&lt;tessellate&gt;1&lt;/tessellate&gt;\n&lt;altitudeMode&gt;absolute&lt;/altitudeMode&gt;\n&quot;</span>);</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;coordinates&gt;\n&quot;</span>);</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    rewind (fin);</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">while</span> (fgets(buf, 500, fin) != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    {</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        fputs(buf, fout);</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    }</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    fclose(fin);</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    fprintf(fout,<span class="stringliteral">&quot;&lt;/coordinates&gt;\n&lt;/LineString&gt;\n&lt;/Placemark&gt;\n&lt;/Document&gt;\n&lt;/kml&gt;\n&quot;</span>);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    fclose(fout);</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;}</div><div class="ttc" id="group__datalib__functions_html_gaf677ca2d21cb62742ce3e1c289c428b8"><div class="ttname"><a href="group__datalib__functions.html#gaf677ca2d21cb62742ce3e1c289c428b8">data_open</a></div><div class="ttdeci">FILE * data_open(string path, const char *mode)</div><div class="ttdoc">Open file from path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:1019</div></div>
<div class="ttc" id="structlocstruc_html_a3e292c0cfc34066509120bcddeb5b33d"><div class="ttname"><a href="structlocstruc.html#a3e292c0cfc34066509120bcddeb5b33d">locstruc::utc</a></div><div class="ttdeci">double utc</div><div class="ttdoc">Master time for location, in Modified Julian Day. </div><div class="ttdef"><b>Definition:</b> convertdef.h:430</div></div>
<div class="ttc" id="structcosmosstruc_html_af4e942210d74ec7b18eed16914c366ce"><div class="ttname"><a href="structcosmosstruc.html#af4e942210d74ec7b18eed16914c366ce">cosmosstruc::node</a></div><div class="ttdeci">nodestruc node</div><div class="ttdoc">Structure for summary information in node. </div><div class="ttdef"><b>Definition:</b> jsondef.h:2014</div></div>
<div class="ttc" id="group__datalib__functions_html_gade4d81e56aef2cda654079f687269673"><div class="ttname"><a href="group__datalib__functions.html#gade4d81e56aef2cda654079f687269673">data_type_path</a></div><div class="ttdeci">string data_type_path(string node, string location, string agent, double mjd, string type)</div><div class="ttdoc">Create data file path. </div><div class="ttdef"><b>Definition:</b> datalib.cpp:910</div></div>
<div class="ttc" id="structnodestruc_html_a97d97ec5e0931a700ff182b9c864051f"><div class="ttname"><a href="structnodestruc.html#a97d97ec5e0931a700ff182b9c864051f">nodestruc::name</a></div><div class="ttdeci">char name[40+1]</div><div class="ttdoc">Node Name. </div><div class="ttdef"><b>Definition:</b> jsondef.h:1719</div></div>
<div class="ttc" id="structnodestruc_html_a11b7bdf3e2c41bdef7eb3f8b0ad4d9b7"><div class="ttname"><a href="structnodestruc.html#a11b7bdf3e2c41bdef7eb3f8b0ad4d9b7">nodestruc::loc</a></div><div class="ttdeci">locstruc loc</div><div class="ttdoc">Location structure. </div><div class="ttdef"><b>Definition:</b> jsondef.h:1767</div></div>
<div class="ttc" id="group__mathlib__constants_html_ga8d16f42baecf5fa97fcefed765943080"><div class="ttname"><a href="group__mathlib__constants.html#ga8d16f42baecf5fa97fcefed765943080">DEGOF</a></div><div class="ttdeci">#define DEGOF(rad)</div><div class="ttdoc">Degrees of a Radian value. </div><div class="ttdef"><b>Definition:</b> math/constants.h:33</div></div>
<div class="ttc" id="structgvector_html_a682173234f20766ce6fc83b8723758e7"><div class="ttname"><a href="structgvector.html#a682173234f20766ce6fc83b8723758e7">gvector::h</a></div><div class="ttdeci">double h</div><div class="ttdoc">Height in meters. </div><div class="ttdef"><b>Definition:</b> vector.h:116</div></div>
<div class="ttc" id="structgvector_html_a0bfcf58a2e1347b2acf503e503f1c93d"><div class="ttname"><a href="structgvector.html#a0bfcf58a2e1347b2acf503e503f1c93d">gvector::lon</a></div><div class="ttdeci">double lon</div><div class="ttdoc">Longitude in radians. </div><div class="ttdef"><b>Definition:</b> vector.h:114</div></div>
<div class="ttc" id="structlocstruc_html_a720579567683aee2663de0a7e46942aa"><div class="ttname"><a href="structlocstruc.html#a720579567683aee2663de0a7e46942aa">locstruc::pos</a></div><div class="ttdeci">posstruc pos</div><div class="ttdoc">posstruc for this time. </div><div class="ttdef"><b>Definition:</b> convertdef.h:432</div></div>
<div class="ttc" id="structgeoidpos_html_a58eea1d79a7ffc82af4a43840852b8a1"><div class="ttname"><a href="structgeoidpos.html#a58eea1d79a7ffc82af4a43840852b8a1">geoidpos::s</a></div><div class="ttdeci">gvector s</div><div class="ttdoc">Position vector. </div><div class="ttdef"><b>Definition:</b> convertdef.h:198</div></div>
<div class="ttc" id="structgvector_html_a76ed76078ce8f825c8c1e783b0a3b7c2"><div class="ttname"><a href="structgvector.html#a76ed76078ce8f825c8c1e783b0a3b7c2">gvector::lat</a></div><div class="ttdeci">double lat</div><div class="ttdoc">Latitude in radians. </div><div class="ttdef"><b>Definition:</b> vector.h:112</div></div>
<div class="ttc" id="structposstruc_html_a906e802c4aa1f6ac5ad34f5b3a728f6c"><div class="ttname"><a href="structposstruc.html#a906e802c4aa1f6ac5ad34f5b3a728f6c">posstruc::geod</a></div><div class="ttdeci">geoidpos geod</div><div class="ttdef"><b>Definition:</b> convertdef.h:400</div></div>
<div class="ttc" id="rw__test_8cpp_html_aaf89e0814a79d60c1a986f07766a4f85"><div class="ttname"><a href="rw__test_8cpp.html#aaf89e0814a79d60c1a986f07766a4f85">buf</a></div><div class="ttdeci">char buf[128]</div><div class="ttdef"><b>Definition:</b> rw_test.cpp:40</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga6bc39454c39861b4db8d540109f0c501"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool data_isdir </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;{</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">if</span> (!stat(path.c_str(), &amp;st) &amp;&amp; <a class="code" href="datalib_8cpp.html#a83d95e86842d558985aa9da65e056eba">S_ISDIR</a>(st.st_mode))</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    {</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    }</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    {</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    }</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;}</div><div class="ttc" id="datalib_8cpp_html_a83d95e86842d558985aa9da65e056eba"><div class="ttname"><a href="datalib_8cpp.html#a83d95e86842d558985aa9da65e056eba">S_ISDIR</a></div><div class="ttdeci">#define S_ISDIR(ST_MODE)</div><div class="ttdef"><b>Definition:</b> datalib.cpp:56</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1e7b3239a0f889504953c8c83169f1f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool data_ischardev </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;{</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="keywordflow">if</span> (!stat(path.c_str(), &amp;st) &amp;&amp; S_ISCHR(st.st_mode))</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    {</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    }</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    {</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    }</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga9ab746fbf6671c2bc52abba932755c0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool data_isfile </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;{</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordflow">if</span> (!stat(path.c_str(), &amp;st) &amp;&amp; S_ISREG(st.st_mode) &amp;&amp; (!size || (size == st.st_size)))</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    {</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    }</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    {</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    }</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5b51f0c4f0a7346f998eb190e310fb6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double data_ctime </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;{</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="keywordflow">if</span> (!stat(path.c_str(), &amp;st))</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    {</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <span class="keyword">struct </span>timeval unixtime;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="preprocessor">#ifdef COSMOS_WIN_OS</span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        unixtime.tv_sec = st.st_ctime;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        unixtime.tv_usec = 0;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="preprocessor">#elif defined(COSMOS_LINUX_OS)</span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        unixtime.tv_sec = st.st_ctim.tv_sec;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        unixtime.tv_usec = st.st_ctim.tv_nsec / 1000;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__timelib__functions.html#gaaa9c8a2a477eaede5dd31f0681ccf05a">unix2utc</a>(unixtime);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    }</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    {</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    }</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;}</div><div class="ttc" id="group__timelib__functions_html_gaaa9c8a2a477eaede5dd31f0681ccf05a"><div class="ttname"><a href="group__timelib__functions.html#gaaa9c8a2a477eaede5dd31f0681ccf05a">unix2utc</a></div><div class="ttdeci">double unix2utc(struct timeval unixtime)</div><div class="ttdoc">Unix time to UTC. </div><div class="ttdef"><b>Definition:</b> timelib.cpp:120</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga27813533fea90c2ac1cc24e010cc0e1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">off_t data_size </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;{</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="keyword">struct </span>stat stat_buf;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordflow">if</span> ((stat(path.c_str(), &amp;stat_buf)) == 0)</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    {</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        <span class="keywordflow">return</span>  stat_buf.st_size;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    }</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    {</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    }</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga87c6726c96615551b627c08013206994"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_reopen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gac94b13dad42574718041ce0ebfd71418"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unioneventstruc.html">eventstruc</a> *&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcosmosstruc.html">cosmosstruc</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Oct 4 2020 00:17:38 for COSMOS core by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
